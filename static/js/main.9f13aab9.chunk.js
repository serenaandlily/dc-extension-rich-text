(this["webpackJsonp@dc-rich-text-editor/extension"]=this["webpackJsonp@dc-rich-text-editor/extension"]||[]).push([[0],{11:function(e,t,n){"use strict";var a=n(111);n.o(a,"RichLanguageFormat")&&n.d(t,"RichLanguageFormat",(function(){return a.RichLanguageFormat})),n.o(a,"canInsert")&&n.d(t,"canInsert",(function(){return a.canInsert})),n.o(a,"createStandardTools")&&n.d(t,"createStandardTools",(function(){return a.createStandardTools})),n.o(a,"getCustomClass")&&n.d(t,"getCustomClass",(function(){return a.getCustomClass})),n.o(a,"getDefaultClass")&&n.d(t,"getDefaultClass",(function(){return a.getDefaultClass})),n.o(a,"inBlock")&&n.d(t,"inBlock",(function(){return a.inBlock})),n.o(a,"isToolEnabled")&&n.d(t,"isToolEnabled",(function(){return a.isToolEnabled}));var r=n(116);n.o(r,"RichLanguageFormat")&&n.d(t,"RichLanguageFormat",(function(){return r.RichLanguageFormat})),n.o(r,"canInsert")&&n.d(t,"canInsert",(function(){return r.canInsert})),n.o(r,"createStandardTools")&&n.d(t,"createStandardTools",(function(){return r.createStandardTools})),n.o(r,"getCustomClass")&&n.d(t,"getCustomClass",(function(){return r.getCustomClass})),n.o(r,"getDefaultClass")&&n.d(t,"getDefaultClass",(function(){return r.getDefaultClass})),n.o(r,"inBlock")&&n.d(t,"inBlock",(function(){return r.inBlock})),n.o(r,"isToolEnabled")&&n.d(t,"isToolEnabled",(function(){return r.isToolEnabled}));var o=n(118);n.o(o,"RichLanguageFormat")&&n.d(t,"RichLanguageFormat",(function(){return o.RichLanguageFormat})),n.o(o,"canInsert")&&n.d(t,"canInsert",(function(){return o.canInsert})),n.o(o,"createStandardTools")&&n.d(t,"createStandardTools",(function(){return o.createStandardTools})),n.o(o,"getCustomClass")&&n.d(t,"getCustomClass",(function(){return o.getCustomClass})),n.o(o,"getDefaultClass")&&n.d(t,"getDefaultClass",(function(){return o.getDefaultClass})),n.o(o,"inBlock")&&n.d(t,"inBlock",(function(){return o.inBlock})),n.o(o,"isToolEnabled")&&n.d(t,"isToolEnabled",(function(){return o.isToolEnabled}));var i=n(44);n.d(t,"canInsert",(function(){return i.a})),n.d(t,"inBlock",(function(){return i.d}));var l=n(122);n.o(l,"RichLanguageFormat")&&n.d(t,"RichLanguageFormat",(function(){return l.RichLanguageFormat})),n.o(l,"createStandardTools")&&n.d(t,"createStandardTools",(function(){return l.createStandardTools})),n.o(l,"getCustomClass")&&n.d(t,"getCustomClass",(function(){return l.getCustomClass})),n.o(l,"getDefaultClass")&&n.d(t,"getDefaultClass",(function(){return l.getDefaultClass})),n.o(l,"isToolEnabled")&&n.d(t,"isToolEnabled",(function(){return l.isToolEnabled}));var s=n(124);n.o(s,"RichLanguageFormat")&&n.d(t,"RichLanguageFormat",(function(){return s.RichLanguageFormat})),n.o(s,"createStandardTools")&&n.d(t,"createStandardTools",(function(){return s.createStandardTools})),n.o(s,"getCustomClass")&&n.d(t,"getCustomClass",(function(){return s.getCustomClass})),n.o(s,"getDefaultClass")&&n.d(t,"getDefaultClass",(function(){return s.getDefaultClass})),n.o(s,"isToolEnabled")&&n.d(t,"isToolEnabled",(function(){return s.isToolEnabled}))},111:function(e,t,n){"use strict";var a=n(112);n.o(a,"RichLanguageFormat")&&n.d(t,"RichLanguageFormat",(function(){return a.RichLanguageFormat})),n.o(a,"canInsert")&&n.d(t,"canInsert",(function(){return a.canInsert})),n.o(a,"createStandardTools")&&n.d(t,"createStandardTools",(function(){return a.createStandardTools})),n.o(a,"getCustomClass")&&n.d(t,"getCustomClass",(function(){return a.getCustomClass})),n.o(a,"getDefaultClass")&&n.d(t,"getDefaultClass",(function(){return a.getDefaultClass})),n.o(a,"inBlock")&&n.d(t,"inBlock",(function(){return a.inBlock})),n.o(a,"isToolEnabled")&&n.d(t,"isToolEnabled",(function(){return a.isToolEnabled}));var r=n(113);n.o(r,"RichLanguageFormat")&&n.d(t,"RichLanguageFormat",(function(){return r.RichLanguageFormat})),n.o(r,"canInsert")&&n.d(t,"canInsert",(function(){return r.canInsert})),n.o(r,"createStandardTools")&&n.d(t,"createStandardTools",(function(){return r.createStandardTools})),n.o(r,"getCustomClass")&&n.d(t,"getCustomClass",(function(){return r.getCustomClass})),n.o(r,"getDefaultClass")&&n.d(t,"getDefaultClass",(function(){return r.getDefaultClass})),n.o(r,"inBlock")&&n.d(t,"inBlock",(function(){return r.inBlock})),n.o(r,"isToolEnabled")&&n.d(t,"isToolEnabled",(function(){return r.isToolEnabled}));var o=n(114);n.d(t,"RichLanguageFormat",(function(){return o.a}));var i=n(115);n.o(i,"canInsert")&&n.d(t,"canInsert",(function(){return i.canInsert})),n.o(i,"createStandardTools")&&n.d(t,"createStandardTools",(function(){return i.createStandardTools})),n.o(i,"getCustomClass")&&n.d(t,"getCustomClass",(function(){return i.getCustomClass})),n.o(i,"getDefaultClass")&&n.d(t,"getDefaultClass",(function(){return i.getDefaultClass})),n.o(i,"inBlock")&&n.d(t,"inBlock",(function(){return i.inBlock})),n.o(i,"isToolEnabled")&&n.d(t,"isToolEnabled",(function(){return i.isToolEnabled}))},112:function(e,t){},113:function(e,t){},114:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.TEXT="text",e.JSON="json"}(a||(a={}))},115:function(e,t){},116:function(e,t,n){"use strict";var a=n(117);n.o(a,"RichLanguageFormat")&&n.d(t,"RichLanguageFormat",(function(){return a.RichLanguageFormat})),n.o(a,"canInsert")&&n.d(t,"canInsert",(function(){return a.canInsert})),n.o(a,"createStandardTools")&&n.d(t,"createStandardTools",(function(){return a.createStandardTools})),n.o(a,"getCustomClass")&&n.d(t,"getCustomClass",(function(){return a.getCustomClass})),n.o(a,"getDefaultClass")&&n.d(t,"getDefaultClass",(function(){return a.getDefaultClass})),n.o(a,"inBlock")&&n.d(t,"inBlock",(function(){return a.inBlock})),n.o(a,"isToolEnabled")&&n.d(t,"isToolEnabled",(function(){return a.isToolEnabled}))},117:function(e,t){},118:function(e,t,n){"use strict";var a=n(119);n.o(a,"RichLanguageFormat")&&n.d(t,"RichLanguageFormat",(function(){return a.RichLanguageFormat})),n.o(a,"canInsert")&&n.d(t,"canInsert",(function(){return a.canInsert})),n.o(a,"createStandardTools")&&n.d(t,"createStandardTools",(function(){return a.createStandardTools})),n.o(a,"getCustomClass")&&n.d(t,"getCustomClass",(function(){return a.getCustomClass})),n.o(a,"getDefaultClass")&&n.d(t,"getDefaultClass",(function(){return a.getDefaultClass})),n.o(a,"inBlock")&&n.d(t,"inBlock",(function(){return a.inBlock})),n.o(a,"isToolEnabled")&&n.d(t,"isToolEnabled",(function(){return a.isToolEnabled}));var r=n(120);n.o(r,"RichLanguageFormat")&&n.d(t,"RichLanguageFormat",(function(){return r.RichLanguageFormat})),n.o(r,"canInsert")&&n.d(t,"canInsert",(function(){return r.canInsert})),n.o(r,"createStandardTools")&&n.d(t,"createStandardTools",(function(){return r.createStandardTools})),n.o(r,"getCustomClass")&&n.d(t,"getCustomClass",(function(){return r.getCustomClass})),n.o(r,"getDefaultClass")&&n.d(t,"getDefaultClass",(function(){return r.getDefaultClass})),n.o(r,"inBlock")&&n.d(t,"inBlock",(function(){return r.inBlock})),n.o(r,"isToolEnabled")&&n.d(t,"isToolEnabled",(function(){return r.isToolEnabled}));var o=n(121);n.d(t,"createStandardTools",(function(){return o.a}));var i=n(27);n.d(t,"getCustomClass",(function(){return i.a})),n.d(t,"getDefaultClass",(function(){return i.b})),n.d(t,"isToolEnabled",(function(){return i.c}))},119:function(e,t){},120:function(e,t){},121:function(e,t,n){"use strict";n.d(t,"a",(function(){return X}));var a=n(0),r=n.n(a),o=n(44),i=n(152),l=n.n(i),s=n(101),c=n.n(s),u=n(144),d=n.n(u),p=n(153),f=n.n(p),m=n(148),h=n.n(m),g=n(145),b=n.n(g),v=n(149),y=n.n(v),k=n(150),E=n.n(k),C=n(151),w=n.n(C),O=n(147),x=n.n(O),S=n(146),j=n.n(S),T=n(143),I=n.n(T),_=n(142),D=n.n(_),A=n(27),N=function(){return(N=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},L=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{s(a.next(e))}catch(t){o(t)}}function l(e){try{s(a.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((a=a.apply(e,t||[])).next())}))},R=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(l){o=[6,l],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},M=n(41),P=M.undo,z=M.redo,F=n(22),B=F.toggleMark,W=F.setBlockType,V=F.lift,H=n(48).wrapInList,$=n(185).findParentNode;function U(e,t,n,a){return{name:e,label:t,displayIcon:n,isActive:function(e){return Object(o.e)(e,a)},apply:B(a)}}function G(e){var t=this;return function(n,a,r){return L(t,void 0,void 0,(function(){var t,i,l,s,c,u;return R(this,(function(d){switch(d.label){case 0:t=Object(o.c)(n).filter((function(t){return t.mark.type===e})),i=1===t.length?t[0].mark.attrs:void 0,d.label=1;case 1:return d.trys.push([1,3,,4]),[4,r.dialogs.getHyperlink(i)];case 2:return(l=d.sent()).cancel||(s={href:l.href,title:""===l.title?void 0:l.title},t.length>0?(c=n.tr,u=n.selection,""!==s.href&&(t.length<2&&!(u.from<t[0].from||u.to>t[0].to)?a(c.addMark(t[0].from,t[0].to,e.create(s))):a(c.addMark(u.from,u.to,e.create(s))))):B(e,s)(n,a)),[2];case 3:return d.sent(),[3,4];case 4:return Object(o.e)(n,e)&&a(n.tr.removeMark(t[0].from,t[0].to,e)),[2]}}))}))}}function J(e){var t=this;return function(n,a,r){return L(t,void 0,void 0,(function(){var t,o;return R(this,(function(i){switch(i.label){case 0:t=K(n,e),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r.dialogs.getCode(t.params||"")];case 2:return o=i.sent(),[2,W(e,{params:o})(n,a)];case 3:return i.sent(),[3,4];case 4:return[2]}}))}))}}function q(e){var t=this;return function(n,a,r){return L(t,void 0,void 0,(function(){var t;return R(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,r.dialogs.getImage()];case 1:return t=o.sent(),a(n.tr.replaceSelectionWith(e.createAndFill({src:t.src,title:""===t.title?void 0:t.title,alt:""===t.alt?void 0:t.alt}))),[3,3];case 2:return o.sent(),[3,3];case 3:return[2]}}))}))}}function K(e,t){if(null==e||"code_block"!==t.name)return{};var n=$((function(e){return e.attrs.params}))(e.selection);return null!=n?{params:n.node.attrs.params||""}:{params:""}}function Z(e,t,n){return W(t,N(N({},n),function(e){if(null==e)return{};var t=$((function(e){return e.attrs.align}))(e.selection);return null!=t?{align:t.node.attrs.align}:{}}(e)))}function Y(e,t){return{name:"heading_"+t,label:"Heading "+t,displayLabel:r.a.createElement("h"+t,{style:{margin:0}},"Heading "+t),apply:function(n,a){return Z(n,e.nodes.heading,{level:t})(n,a)},isEnabled:function(n){return Z(n,e.nodes.heading,{level:t})(n)},isActive:function(n,a){return!Z(n,e.nodes.heading,{level:t})(n,null)}}}function X(e,t){var n=[];if(Object(A.c)("undo",t)&&n.push({name:"undo",label:"Undo",displayIcon:r.a.createElement(D.a,null),isEnabled:function(e){return P(e)},apply:P}),Object(A.c)("redo",t)&&n.push({name:"redo",label:"Redo",displayIcon:r.a.createElement(I.a,null),isEnabled:function(e){return z(e)},apply:z}),Object(A.c)("strong",t)&&e.marks.strong&&n.push(function(e){return U("strong","Bold",r.a.createElement(d.a,null),e.marks.strong)}(e)),Object(A.c)("em",t)&&e.marks.em&&n.push(function(e){return U("em","Italic",r.a.createElement(b.a,null),e.marks.em)}(e)),Object(A.c)("code",t)&&e.marks.code&&n.push(function(e){return U("code","Code",r.a.createElement(c.a,null),e.marks.code)}(e)),Object(A.c)("link",t)&&e.marks.link&&n.push(function(e){return{name:"link",label:"Add or remove Link",displayIcon:r.a.createElement(j.a,null),isActive:function(t){return Object(o.e)(t,e.marks.link)},isEnabled:function(t){return!t.selection.empty||Object(o.c)(t).filter((function(t){return t.mark.type===e.marks.link})).length>0},apply:G(e.marks.link)}}(e)),Object(A.c)("lift",t)&&n.push({name:"lift",label:"Decrease Indentation",displayIcon:r.a.createElement(h.a,null),isVisible:function(e){return V(e)},apply:V}),Object(A.c)("bullet_list",t)&&e.nodes.bullet_list&&n.push(function(e){return{name:"bullet_list",label:"Bullet List",displayIcon:r.a.createElement(y.a,null),isEnabled:function(t){return H(e.nodes.bullet_list,{})(t)},apply:H(e.nodes.bullet_list,{})}}(e)),Object(A.c)("ordered_list",t)&&e.nodes.ordered_list&&n.push(function(e){return{name:"ordered_list",label:"Ordered List",displayIcon:r.a.createElement(E.a,null),isEnabled:function(t){return H(e.nodes.ordered_list,{})(t)},apply:H(e.nodes.ordered_list,{})}}(e)),Object(A.c)("image",t)&&e.nodes.image&&n.push(function(e){return{name:"image",label:"Insert Image from URL",displayIcon:r.a.createElement(x.a,null),apply:q(e.nodes.image)}}(e)),Object(A.c)("blockquote",t)&&e.nodes.blockquote&&n.push(function(e){return{name:"blockquote",label:"Quote",displayIcon:r.a.createElement(w.a,null),isEnabled:function(t){return H(e.nodes.blockquote,{})(t)},apply:H(e.nodes.blockquote,{})}}(e)),Object(A.c)("heading",t)&&e.nodes.heading)for(var a=1;a<7;a++)n.push(Y(e,a));return Object(A.c)("paragraph",t)&&e.nodes.paragraph&&n.push(function(e){return W(e.nodes.paragraph),{name:"paragraph",label:"Normal text",displayLabel:r.a.createElement("p",{style:{margin:0,padding:0,display:"inline"}},"Normal text"),apply:function(t,n){return Z(t,e.nodes.paragraph)(t,n)},isEnabled:function(t){return Z(t,e.nodes.paragraph)(t)},isActive:function(t){return!Z(t,e.nodes.paragraph)(t,null)}}}(e)),Object(A.c)("code_block",t)&&e.nodes.code_block&&n.push(function(e){return{name:"code_block",label:"Code Block",displayLabel:r.a.createElement("code",null,"Code Block"),displayIcon:r.a.createElement(c.a,null),apply:J(e.nodes.code_block),isActive:function(t,n){var a=K(t,e.nodes.code_block);return!W(e.nodes.code_block,N({},a))(t,null)}}}(e)),Object(A.c)("horizontal_rule",t)&&e.nodes.horizontal_rule&&n.push(function(e){return{name:"horizontal_rule",label:"Insert Horizontal Rule",displayIcon:r.a.createElement(l.a,null),apply:function(t,n){n(t.tr.replaceSelectionWith(e.nodes.horizontal_rule.create()))},isEnabled:function(t){return Object(o.a)(t,e.nodes.horizontal_rule)}}}(e)),Object(A.c)("clear_formatting",t)&&n.push({name:"clear_formatting",label:"Clear Formatting",displayIcon:r.a.createElement(f.a,null),apply:Object(o.b)(),isEnabled:function(e){return!0}}),n}},122:function(e,t,n){"use strict";var a=n(123);n.o(a,"RichLanguageFormat")&&n.d(t,"RichLanguageFormat",(function(){return a.RichLanguageFormat})),n.o(a,"createStandardTools")&&n.d(t,"createStandardTools",(function(){return a.createStandardTools})),n.o(a,"getCustomClass")&&n.d(t,"getCustomClass",(function(){return a.getCustomClass})),n.o(a,"getDefaultClass")&&n.d(t,"getDefaultClass",(function(){return a.getDefaultClass})),n.o(a,"isToolEnabled")&&n.d(t,"isToolEnabled",(function(){return a.isToolEnabled}))},123:function(e,t){},124:function(e,t,n){"use strict";var a=n(125);n.o(a,"RichLanguageFormat")&&n.d(t,"RichLanguageFormat",(function(){return a.RichLanguageFormat})),n.o(a,"createStandardTools")&&n.d(t,"createStandardTools",(function(){return a.createStandardTools})),n.o(a,"getCustomClass")&&n.d(t,"getCustomClass",(function(){return a.getCustomClass})),n.o(a,"getDefaultClass")&&n.d(t,"getDefaultClass",(function(){return a.getDefaultClass})),n.o(a,"isToolEnabled")&&n.d(t,"isToolEnabled",(function(){return a.isToolEnabled}))},125:function(e,t){},134:function(e,t){},157:function(e,t,n){"use strict";var a=n(81),r=n(80);n(134),n(78),n(79);t.default=function(e){return{language:new a.a(e),conf:r.a}}},173:function(e,t,n){e.exports=n(245)},184:function(e,t,n){},244:function(e,t,n){},245:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(19),i=n.n(o),l=(n(178),n(179),n(14)),s=n.n(l),c=n(10),u=n(25),d=n(30),p=n(38),f=n(71),m=n(49),h=n(51),g=n(57),b=n(291),v=n(135),y=n(24),k=n(6),E=n(20),C=Object(k.a)({root:{flex:1,display:"flex",minHeight:286,maxHeight:500},textarea:{flex:1,outline:"none",resize:"none",backgroundColor:"#f0f0f0",border:"1px solid rgba(157,162,162,.3)",padding:"10px 8px 0",fontFamily:"'IBM Plex Sans',monospace!important",fontSize:13}})((function(e){var t=e.classes,n=e.value,a=e.onChange,o=e.readOnly,i=void 0!==o&&o,l=r.a.useCallback((function(e){a&&a(e.target.value)}),[a]);return r.a.createElement("div",{className:t.root},r.a.createElement("textarea",{readOnly:i,className:t.textarea,value:n,onChange:l}))})),w=n(68),O=(n(184),n(5).EditorState),x=n(47).EditorView,S=n(246).exampleSetup,j=n(46),T=j.tableEditing,I=j.columnResizing,_=n(53).keymap,D=n(48).sinkListItem;function A(e){return{Tab:D(e.nodes.list_item)}}var N,L=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var a;Object(d.a)(this,n),a=t.call(this,e);var o=r.a.createRef();return a.state={ref:o,isLocked:e.isLocked},a}return Object(p.a)(n,[{key:"createEditorState",value:function(){var e=this.props,t=e.schema,n=e.doc,a=null!=t.nodes.table?[I(),T()]:[];return O.create({schema:t,doc:n,plugins:[].concat(a,[_(A(t))],Object(w.a)(S({schema:t,menuBar:!1})))})}},{key:"createEditorView",value:function(e){var t=this,n=this.props,a=n.onUpdateState,r=n.onChange,o=this.createEditorState(),i=this,l=new x(e,Object(c.a)(Object(c.a)({},this.props.editorViewOptions),{},{state:o,dispatchTransaction:function(e){var n=l.state.applyTransaction(e),o=n.state,i=n.transactions;return l.updateState(o),a&&a(o,l),l.scrollToSelection=function(){var e,t,n=l.domAtPos(o.selection.anchor).node;n&&(null===(e=(t=n).scrollIntoView)||void 0===e||e.call(t,!1))},i.some((function(e){return e.docChanged}))&&r&&(r(o.doc),t.state.isLocked&&l.scrollToSelection()),t.forceUpdate(),o},editable:function(){return!i.state.isLocked}}));return a&&a(l.state,l),l.dispatch=function(e){var t=this._props.dispatchTransaction;return t?t.call(this,e):this.updateState(this.state.apply(e))}.bind(l),l}},{key:"componentDidMount",value:function(){if(this.state.ref&&!this.state.editorView){var e=this.createEditorView(this.state.ref.current);this.setState({editorView:e})}}},{key:"componentDidUpdate",value:function(e,t,n){this.props.isLocked!==e.isLocked&&this.setState(Object(c.a)(Object(c.a)({},this.state),{},{isLocked:this.props.isLocked}))}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root,ref:this.state.ref})}}]),n}(r.a.Component),R=Object(k.a)({root:{width:"100%",minHeight:250,maxHeight:600,overflowY:"scroll"}})(L),M=n(33),P=n(2);!function(e){e.EDIT="edit",e.CODE="code"}(N||(N={}));var z=Object(k.a)({root:{display:"flex",marginBottom:5},button:{outline:"none",transition:"color 0.2s linear,border-bottom-color 0.2s linear",height:42,cursor:"pointer",background:"transparent",border:"0 solid transparent",borderTop:"3px solid transparent",borderBottom:"3px solid transparent",fontSize:13,padding:"0 15px",color:"#333",fontWeight:500,fontFamily:"'IBM Plex Sans', sans-serif"},selected:{color:"#1EA7FD",borderBottomColor:"#1EA7FD"}})((function(e){var t=e.classes,n=e.onChange,a=e.language,o=e.disableCodeView,i=e.disableEditView,l=r.a.useState(i?N.CODE:N.EDIT),s=Object(E.a)(l,2),c=s[0],u=s[1],d=r.a.useCallback((function(e){u(e),n&&n(e)}),[u]),p=r.a.useCallback((function(e,n){return r.a.createElement("button",{onClick:function(){return d(n)},className:Object(P.a)(t.button,Object(M.a)({},t.selected,c===n)),type:"button",role:"tab"},e)}),[c,d]);return r.a.createElement("div",{className:t.root},!i&&p("Editor",N.EDIT),!o&&p(a||"Code",N.CODE))})),F=n(11),B=n(62),W=n(325),V=n(309),H=n(322),$=n(310),U=r.a.createContext({}),G=n(308),J=Object(k.a)({root:{margin:"1px"},tooltip:{fontSize:12,backgroundColor:"#1A222D",maxWidth:240},arrow:{color:"#1A222D"}})((function(e){var t=e.toolName,n=e.classes,a=r.a.useContext(U),o=a.getToolState,i=a.applyTool,l=o?o(t):null,s=r.a.useCallback((function(e){var n=document.activeElement;i&&i(t),null!=n&&setTimeout((function(){return n.focus()}),0)}),[t,i]);return l&&l.visible?r.a.createElement(H.a,{title:l.label,arrow:!0,classes:{arrow:Object(P.a)(n.arrow),tooltip:Object(P.a)(n.tooltip)}},r.a.createElement(G.a,{className:Object(P.a)(n.root),onMouseDown:s,size:"small",disabled:!l.enabled||e.isLocked,color:l.active?"primary":"default",title:l.label},l.displayIcon?l.displayIcon:l.label)):null})),q=n(251),K=n(326),Z=Object(k.a)({value:{fontSize:13,paddingLeft:6,paddingRight:6,fontWeight:"unset"}})((function(e){var t=e.toolNames,n=e.classes,a=e.label,o=r.a.useContext(U),i=o.getToolState,l=o.applyTool,s=t.map((function(e){return i?i(e):null})).filter((function(e){return null!=e})),c=s.filter((function(e){return e.active})),u=c&&c.length>1?c.find((function(e){return/inline_styles/.test(e.name)}))||c[0]:c.find((function(e){return e.active})),d=u?u.name:"",p=r.a.useCallback((function(e){l&&l(e.target.value)}),[l]),f=r.a.useCallback((function(e){if(!e)return a||"";var t=i?i(e):void 0;return t||(t={label:e}),t.displayLabel?r.a.cloneElement(t.displayLabel,{className:n.value}):t.label}),[i]);return 0===s.length?null:r.a.createElement(q.a,{value:d,onChange:p,renderValue:f,displayEmpty:!0,onMouseDown:function(e){return e.preventDefault()},disabled:e.isLocked},s.map((function(e){return r.a.createElement(K.a,{value:e.name,key:e.name,onMouseDown:function(e){return e.preventDefault()}},e.displayLabel?e.displayLabel:r.a.createElement("span",null,e.label))})))})),Y=Object(k.a)({root:{display:"flex",alignItems:"center","& .divider":{verticalAlign:"top",display:"inline-flex",height:13,lineHeight:13,borderRight:"1px solid rgb(218, 220, 224)",margin:"9px 4px"},"&:last-of-type .divider":{display:"none"}},empty:{display:"none"}})((function(e){var t=e.children,n=e.classes;return r.a.createElement("div",{className:Object(P.a)(n.root,Object(M.a)({},n.empty,!t))},t,r.a.createElement("div",{className:"divider"}))})),X=r.a.createContext({params:{},isLocked:!1,proseMirrorEditorView:void 0,dialogs:{},actions:{},languages:{},language:{},sdk:{},hub:{},setIsLocked:function(e){},setShowCreditsError:function(e){}}),Q=X;function ee(){return Object(a.useContext)(X)}var te=function(e){var t=e.readOnly,n=e.style;return"content-studio"===e.variant?r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"none",viewBox:"0 0 26 26"},r.a.createElement("g",{stroke:t?"#D9D9D9":"#F88B8B",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",clipPath:"url(#clip0_2281_13381)"},r.a.createElement("path",{d:"M12.417 9.834h-11M1.417 4.5H17.5M7.417 15.166h-6M1.417 20.5h6M21.333 22.25a1.917 1.917 0 011.917 1.917 1.917 1.917 0 011.917-1.916 1.917 1.917 0 01-1.917-1.917 1.917 1.917 0 01-1.917 1.917zm0-11.5a1.917 1.917 0 011.917 1.917 1.917 1.917 0 011.917-1.916 1.917 1.917 0 01-1.917-1.917 1.917 1.917 0 01-1.917 1.917zm-5.708 11.5a5.75 5.75 0 015.75-5.75 5.75 5.75 0 01-5.75-5.75 5.75 5.75 0 01-5.75 5.75 5.75 5.75 0 015.75 5.75z"})),r.a.createElement("defs",null,r.a.createElement("clipPath",{id:"clip0_2281_13381"},r.a.createElement("path",{fill:"#fff",d:"M0 0H26V26H0z"})))):r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",style:Object(c.a)({flex:"0 0 auto"},n),fill:t?"#D9D9D9":"#F88B8B",viewBox:"5.34 5.34 21.33 21.33"},r.a.createElement("path",{d:"M19.022 7.887a.578.578 0 0 1 1.098 0l.97 2.644c.479 1.303 1.455 2.333 2.69 2.837l2.51 1.024c.5.205.5.952 0 1.157l-2.51 1.024c-1.235.504-2.212 1.534-2.69 2.836l-.97 2.645a.578.578 0 0 1-1.098 0l-.97-2.645c-.479-1.302-1.455-2.332-2.69-2.836l-2.509-1.024c-.501-.205-.501-.952 0-1.157l2.508-1.024c1.236-.504 2.212-1.534 2.69-2.837l.971-2.644ZM11.252 18.767a.289.289 0 0 1 .549 0l.567 1.544a2.42 2.42 0 0 0 1.345 1.419l1.465.597c.25.103.25.477 0 .579l-1.465.598a2.42 2.42 0 0 0-1.345 1.418l-.567 1.545a.289.289 0 0 1-.549 0l-.567-1.545a2.42 2.42 0 0 0-1.345-1.418l-1.465-.598c-.25-.102-.25-.476 0-.579l1.465-.597a2.42 2.42 0 0 0 1.345-1.419l.567-1.544ZM8.9 5.533a.289.289 0 0 1 .548 0l.567 1.545a2.42 2.42 0 0 0 1.345 1.418l1.465.598c.251.102.251.476 0 .579l-1.464.597a2.42 2.42 0 0 0-1.346 1.419l-.567 1.544a.289.289 0 0 1-.548 0l-.567-1.544a2.42 2.42 0 0 0-1.345-1.419l-1.465-.597c-.25-.103-.25-.477 0-.579l1.465-.598a2.42 2.42 0 0 0 1.345-1.418L8.9 5.533Z"}))},ne=function(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"8",viewBox:"0 0 26 8",fill:"#808080"},r.a.createElement("circle",{cx:"4",cy:"4",r:"0"},r.a.createElement("animate",{attributeName:"r",from:"4",to:"4",begin:"0s",dur:"1.4s",values:"0;4;0;0",calcMode:"spline",keySplines:"0.5 0 0.5 1; 0 0 1 1; 0.5 0 0.5 1",repeatCount:"indefinite",keyTimes:"0;0.4;0.8;1"})),r.a.createElement("circle",{cx:"13",cy:"4",r:"0"},r.a.createElement("animate",{attributeName:"r",from:"4",to:"4",begin:"0.16s",dur:"1.4s",values:"0;4;0;0",calcMode:"spline",keySplines:"0.5 0 0.5 1; 0 0 1 1; 0.5 0 0.5 1",repeatCount:"indefinite",keyTimes:"0;0.4;0.8;1"})),r.a.createElement("circle",{cx:"22",cy:"4",r:"0"},r.a.createElement("animate",{attributeName:"r",from:"4",to:"4",begin:"0.32s",dur:"1.4s",values:"0;4;0;0",calcMode:"spline",keySplines:"0.5 0 0.5 1; 0 0 1 1; 0.5 0 0.5 1",repeatCount:"indefinite",keyTimes:"0;0.4;0.8;1"})))},ae=Object(W.a)({root:{minHeight:35,borderBottom:"1px solid rgb(218, 220, 224)",flexWrap:"wrap"},group:{display:"flex"},button:{color:"#333",height:26,alignSelf:"center",textTransform:"none",fontSize:13,textAlign:"center"},divider:{borderRight:"1px solid rgb(218, 220, 224)",height:13,margin:"9px 4px"},tooltip:{fontSize:12,backgroundColor:"#1A222D",maxWidth:340},arrow:{color:"#1A222D"}}),re={title:"Use ChatGPT to improve your copy"},oe={title:"Generate on-brand content at scale with Content Studio"},ie=Object(k.a)(ae)((function(e){var t,n,a,o,i=e.classes,l=e.layout,c=e.toolbarState,d=e.params,p=ee(),f=l.slice(0,3),m=l.slice(3),h=!0!==(null===(t=null===d||void 0===d?void 0:d.tools)||void 0===t||null===(n=t.ai)||void 0===n?void 0:n.disabled),g=!0!==(null===(a=null===d||void 0===d?void 0:d.tools)||void 0===a||null===(o=a.contentStudio)||void 0===o?void 0:o.disabled),b=function t(n,a){switch(a.type){case"button":return r.a.createElement(J,{toolName:a.toolName,isLocked:e.isLocked,key:n});case"dropdown":return r.a.createElement(Z,{toolNames:a.toolNames,label:a.label,isLocked:e.isLocked,key:n});case"group":return-1!==a.children.findIndex((function(e){return"button"!==e.type||function(e){var t=null==c?null:c.toolStates[e.toolName];return null==t||t.visible}(e)}))?r.a.createElement(Y,{key:n},a.children.map((function(e,n){return t(n,e)}))):null;default:return null}},v=function(){var e=Object(u.a)(s.a.mark((function e(){var t,n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.dialogs.getAIPrompt({variant:"generate"});case 3:return t=e.sent,n=t.prompt,a=t.keywords,e.next=8,p.actions.insertAIContent(n,a);case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.actions.insertContentStudioContent();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(U.Provider,{value:{applyTool:function(e){if(c){var t=c.tools.find((function(t){return t.name===e})),n=Object.keys(c.toolStates).filter((function(e){return/inline_styles/.test(e)&&c.toolStates[e].active}));if(t){if(n&&n.length){var a=c.tools.find((function(e){return"clear_formatting"===e.name}));a&&a.apply(p.proseMirrorEditorView.state,p.proseMirrorEditorView.dispatch,p)}t.apply(p.proseMirrorEditorView.state,p.proseMirrorEditorView.dispatch,p)}}},getToolState:function(e){if(c)return c.toolStates[e]}}},r.a.createElement(V.a,{className:i.root,disableGutters:!0},r.a.createElement("div",{className:i.group},g?r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{title:oe.title,arrow:!0,classes:{arrow:e.classes.arrow,tooltip:e.classes.tooltip}},r.a.createElement($.a,{disabled:p.isLocked,onClick:y,className:i.button,size:"small",startIcon:!p.isLocked&&r.a.createElement(te,{style:{width:15,height:15},variant:"content-studio"})},p.isLocked?r.a.createElement(ne,null):"Content Studio")),r.a.createElement("div",{className:i.divider})):"",h?r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{title:re.title,arrow:!0,classes:{arrow:e.classes.arrow,tooltip:e.classes.tooltip}},r.a.createElement($.a,{disabled:p.isLocked,onClick:v,className:i.button,size:"small",startIcon:!p.isLocked&&r.a.createElement(te,{style:{width:15,height:15}})},p.isLocked?r.a.createElement(ne,null):"AI Assistant")),r.a.createElement("div",{className:i.divider})):"",f.map((function(e,t){return b(t,e)}))),r.a.createElement("div",{className:i.group},m.map((function(e,t){return b(t,e)})))))})),le=[{type:"group",children:[{type:"button",toolName:"undo"},{type:"button",toolName:"redo"}]},{type:"dropdown",label:"Styles",toolNames:["paragraph","heading_1","heading_2","heading_3","heading_4","heading_5","heading_6","code_block"]},{type:"group",children:[{type:"button",toolName:"strong"},{type:"button",toolName:"em"},{type:"button",toolName:"soft_hyphen"},{type:"button",toolName:"link"},{type:"button",toolName:"anchor"}]},{type:"group",children:[{type:"button",toolName:"align_left"},{type:"button",toolName:"align_center"},{type:"button",toolName:"align_right"},{type:"button",toolName:"align_justify"}]},{type:"group",children:[{type:"button",toolName:"lift"},{type:"button",toolName:"bullet_list"},{type:"button",toolName:"ordered_list"}]},{type:"group",children:[{type:"button",toolName:"dc-image-link"},{type:"button",toolName:"image"},{type:"button",toolName:"dc-content-link"},{type:"button",toolName:"blockquote"},{type:"button",toolName:"code_block"},{type:"button",toolName:"horizontal_rule"},{type:"button",toolName:"table_create"}]},{type:"group",children:[{type:"button",toolName:"table_row_add"},{type:"button",toolName:"table_row_delete"},{type:"button",toolName:"table_col_add"},{type:"button",toolName:"table_col_delete"},{type:"button",toolName:"table_delete"},{type:"button",toolName:"clear_formatting"}]},{type:"button",toolName:"ai"}],se=n(155);var ce=n(319),ue=n(328),de=n(312),pe=n(313),fe=n(102),me=n(65),he=n(327),ge=n(315),be=n(295),ve=n(316),ye=n(317),ke=n(318),Ee=n(323),Ce=n(311),we=n(314),Oe=n(156),xe=n.n(Oe),Se=[{label:"Improve text",prompt:"Improve this"},{label:"Shorten",prompt:"Shorten this"},{label:"Make longer",prompt:"Expand this"}],je=function(){function e(t){Object(d.a)(this,e),this.params=void 0,this.params=t}return Object(p.a)(e,[{key:"getKey",value:function(){var e,t,n;return null===(e=this.params)||void 0===e||null===(t=e.tools)||void 0===t||null===(n=t.ai)||void 0===n?void 0:n.key}},{key:"getModel",value:function(){var e,t,n;return(null===(e=this.params)||void 0===e||null===(t=e.tools)||void 0===t||null===(n=t.ai)||void 0===n?void 0:n.model)||"gpt-3.5-turbo"}},{key:"getEditPrompts",value:function(){var e,t,n;return(null===(e=this.params)||void 0===e||null===(t=e.tools)||void 0===t||null===(n=t.ai)||void 0===n?void 0:n.editPrompts)||Se}}]),e}();function Te(){return(Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ie(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var _e=r.a.createElement("path",{d:"M7.22967 1.19148C10.5588 1.19148 13.2688 3.89982 13.2688 7.22898C13.2688 10.5582 10.5588 13.2682 7.22967 13.2682C3.90051 13.2682 1.19217 10.5582 1.19217 7.22898C1.19217 3.89982 3.90051 1.19148 7.22967 1.19148ZM8.11384 5.44648L6.93301 9.62732C6.85301 9.91148 6.81384 10.079 6.81384 10.1323C6.81384 10.1957 6.83217 10.249 6.87051 10.289C6.90801 10.329 6.95384 10.3465 7.00467 10.3465C7.06467 10.3465 7.13551 10.3165 7.21967 10.2515C7.44551 10.074 7.67467 9.81732 7.90551 9.48815L8.11551 9.62565C7.84384 10.039 7.52551 10.3873 7.16051 10.6707C6.88967 10.8807 6.63134 10.9857 6.38467 10.9857C6.22134 10.9857 6.08884 10.9365 5.98551 10.839C5.88134 10.7423 5.82967 10.6198 5.82967 10.474C5.82967 10.3248 5.87967 10.0815 5.97884 9.73982L6.75467 7.06732C6.88134 6.62982 6.94551 6.35565 6.94551 6.24398C6.94551 6.15648 6.91467 6.08482 6.85384 6.02898C6.79134 5.97315 6.70717 5.94565 6.59967 5.94565C6.51217 5.94565 6.33134 5.96732 6.05717 6.01148V5.77898L8.11384 5.44648ZM8.03634 3.31398C8.20301 3.31398 8.34384 3.37148 8.45884 3.48732C8.57634 3.60315 8.63301 3.74398 8.63301 3.91148C8.63301 4.07398 8.57467 4.21398 8.45717 4.33148C8.33884 4.44898 8.19884 4.50732 8.03634 4.50732C7.87301 4.50732 7.73301 4.44898 7.61551 4.33148C7.49717 4.21398 7.43967 4.07398 7.43967 3.91148C7.43967 3.74398 7.49717 3.60315 7.61217 3.48732C7.72801 3.37148 7.86967 3.31398 8.03634 3.31398ZM7.22967 0.333984C3.42051 0.333984 0.333008 3.42065 0.333008 7.22982C0.333008 11.0382 3.42051 14.1257 7.22967 14.1257C11.0388 14.1257 14.1263 11.0373 14.1263 7.22898C14.1263 3.41982 11.0388 0.333984 7.22967 0.333984Z",fill:"white"}),De=r.a.createElement("g",{mask:"url(#mask0_11569_199)"},r.a.createElement("path",{d:"M17 -3H-3V17H17V-3Z",fill:"#333333"})),Ae=function(e){var t=e.svgRef,n=e.title,a=Ie(e,["svgRef","title"]);return r.a.createElement("svg",Te({width:15,height:15,viewBox:"0 0 15 15",fill:"none",ref:t},a),n?r.a.createElement("title",null,n):null,r.a.createElement("mask",{id:"mask0_11569_199",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:0,y:0,width:15,height:15},_e),De)},Ne=r.a.forwardRef((function(e,t){return r.a.createElement(Ae,Te({svgRef:t},e))})),Le=(n.p,Object(W.a)({root:{minWidth:440},configureContent:{maxWidth:"50%"},configureGraphic:{width:550,position:"absolute",right:0,top:-60},getStartedAction:{backgroundColor:"rgba(255,255,255,0.9)",borderRadius:20,padding:"5px 15px"},cancelAction:{color:"white"},button:{marginLeft:"auto",textTransform:"none","&:hover":{backgroundColor:"#1ab0f9",color:"#fff"}},keywordsContainer:{marginBottom:"12px"},chip:{color:"#fff",fontSize:13,height:"24px"},keywordCheckIcon:{color:"#fff"},infoIcon:{height:"15px",width:"15px",transform:"translateY(25%)",marginLeft:"5px"},tooltip:{fontSize:12,backgroundColor:"#1A222D"},arrow:{color:"#1A222D"}}));function Re(e){return r.a.createElement(G.a,Object.assign({"aria-label":"Close"},e,{style:{marginLeft:"auto"},disableFocusRipple:!0,disableRipple:!0}),r.a.createElement(Ce.a,{style:{width:24,height:24}}))}function Me(e){var t=e.onClose,n=e.title;return r.a.createElement(de.a,{style:{paddingBottom:0}},r.a.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px"}},r.a.createElement(te,null),r.a.createElement("span",{style:{fontSize:"16px",fontWeight:500,color:"#333"}},n),r.a.createElement(Re,{onClick:t})))}function Pe(){return(Pe=Object(u.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(c.a)(Object(c.a)({},t.params.installation),t.params.instance),e.next=3,t.form.getValue().catch((function(){return{}}));case 3:return a=e.sent,e.prev=4,e.abrupt("return",xe.a.get(a,n.keywordSource));case 8:return e.prev=8,e.t0=e.catch(4),e.abrupt("return","");case 11:case"end":return e.stop()}}),e,null,[[4,8]])})))).apply(this,arguments)}function ze(e){var t=e.useKeywords?{}:{backgroundColor:"#F7F9F9",color:"#002C42"};return r.a.createElement(pe.a,{container:!0,className:e.classes.keywordsContainer,spacing:1,alignItems:"center"},r.a.createElement(pe.a,{item:!0},r.a.createElement(fe.a,{variant:"caption"},"Optimize for SEO using:"),r.a.createElement(H.a,{title:"Optimize your AI prompt by importing data from other fields such as SEO keywords, titles, and descriptions.",arrow:!0,classes:{arrow:e.classes.arrow,tooltip:e.classes.tooltip}},r.a.createElement(me.a,{viewBox:"0 0 15 15",className:e.classes.infoIcon},r.a.createElement(Ne,null)))),r.a.createElement(pe.a,{item:!0},r.a.createElement(H.a,{title:e.keywords.join(", "),arrow:!0,classes:{arrow:e.classes.arrow,tooltip:e.classes.tooltip}},r.a.createElement(he.a,{icon:e.useKeywords?r.a.createElement(we.a,{fontSize:"small",className:e.classes.keywordCheckIcon}):void 0,label:"SEO Keywords",color:"primary",className:e.classes.chip,style:t,onClick:function(){return e.handleKeywordClick()}}))))}var Fe=function(e){var t=r.a.useContext(y.d).sdk,n=e.variant,o=void 0===n?"generate":n,i=e.onSubmit,l=e.classes,c=e.onClose,d=Object(a.useState)(""),p=Object(E.a)(d,2),f=p[0],m=p[1],h=Object(a.useState)([]),g=Object(E.a)(h,2),b=g[0],v=g[1],k=Object(a.useState)(!0),C=Object(E.a)(k,2),w=C[0],O=C[1];Object(a.useEffect)((function(){(function(e){return Pe.apply(this,arguments)})(t).then((function(e){e&&v(e.split(",").map((function(e){return e.trim()})))}))}),[]);var x={generate:{title:"What do you want to write about?",placeholder:"For the best results, be as specific and detailed as possible",button:"Generate"},rewrite:{title:"Tell us how to rewrite the text",placeholder:"For the best results, be as specific and detailed as possible",button:"Rewrite"}}[o],S=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i({prompt:f,keywords:w?b:[]});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Me,{classes:l,onClose:c,title:x.title}),r.a.createElement(ge.a,null,b.length?r.a.createElement(ze,{classes:l,useKeywords:w,keywords:b,handleKeywordClick:function(){O(!w)}}):void 0,r.a.createElement(be.a,{value:f,placeholder:x.placeholder,onChange:function(e){m(e.target.value)},onKeyUp:function(e){"Enter"!==e.key&&13!==e.keyCode||S()},multiline:!0,rowsMax:9,InputProps:{endAdornment:r.a.createElement(ve.a,{position:"end"},r.a.createElement($.a,{onClick:S,variant:"outlined",color:"primary",className:l.button,disableElevation:!0,disabled:!f.length},x.button))},fullWidth:!0,variant:"outlined"}),r.a.createElement(fe.a,{variant:"caption"},"Powered by ChatGPT API."," ",r.a.createElement(ye.a,{underline:"none",href:"https://amplience.com/developers/docs/ai-services/generative-rich-text-editor",target:"_blank"},"Learn more"))),r.a.createElement(ke.a,null))},Be=Object(k.a)(Le)((function(e){var t=e.open,n=e.onClose,a=e.classes,o=new je(e.params);return r.a.createElement(Ee.a,{maxWidth:"sm",fullWidth:!0,open:t,onClose:n,"aria-labelledby":"form-dialog-title",className:Object(P.a)(a.root)},r.a.createElement(Fe,Object.assign({},e,{configuration:o})))})),We=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_APTRINSIC_ID;function Ve(e,t,n){e.aptrinsic&&e.aptrinsic("track",t,n)}var He=n(162),$e=[{name:"gpt-3.5-turbo",version:"gpt-3.5",maxTokens:4096},{name:"gpt-3.5-turbo-16k",version:"gpt-3.5",maxTokens:16384},{name:"gpt-4",version:"gpt-4",maxTokens:8192},{name:"gpt-4-32k",version:"gpt-4",maxTokens:32768}];function Ue(e,t){var n=$e.find((function(t){return t.name===e}));if(n&&t>n.maxTokens){var a=$e.find((function(e){return e.version===n.version&&e.maxTokens>t}));return(null===a||void 0===a?void 0:a.name)||e}return e}function Ge(e,t){var n,a,r,o=JSON.parse(t);return e?null===o||void 0===o||null===(n=o.choices)||void 0===n||null===(a=n[0])||void 0===a||null===(r=a.delta)||void 0===r?void 0:r.content:null===o||void 0===o?void 0:o.content}function Je(e,t,n,a){return qe.apply(this,arguments)}function qe(){return(qe=Object(u.a)(s.a.mark((function e(t,n,a,r){var o,i,l,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=a.getKey(),i=function(e){var t=e.role,n=e.content;return{role:t.toUpperCase(),content:n}},!o){e.next=4;break}return e.abrupt("return","https://api.openai.com/v1/chat/completions");case 4:return e.next=6,t.connection.request("dc-management-sdk-js:graphql-mutation",{mutation:"mutation generateRichText($orgId: ID!, $prompts:[RichTextGenerationPrompt!]!) {\n        generateRichText(\n          input: {\n           organizationId: $orgId,\n           prompts: $prompts\n         }\n        ) {\n          url\n        }\n      }",vars:{orgId:btoa("Organization:".concat(n.organizationId)),prompts:r.map(i)}});case 6:return l=e.sent,c=l.data,e.abrupt("return",c.generateRichText.url);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ke(e,t,n,a,r,o){return Ze.apply(this,arguments)}function Ze(){return(Ze=Object(u.a)(s.a.mark((function e(t,n,a,r,o,i){var l,d,p,f,m,h,g;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=2048,d=r.messages.map((function(e){return e.content.length})).reduce((function(e,t){return e+t}),0)/4,p=l+d,f="",e.prev=4,e.next=7,Je(t,n,a,r.messages);case 7:return m=e.sent,h=a.getKey(),g=Object(c.a)({"Content-Type":"application/json"},h?{Authorization:"Bearer ".concat(h)}:{}),e.next=12,Object(ue.a)(m,Object(c.a)(Object(c.a)({headers:g,method:h?"POST":"GET"},h?{body:JSON.stringify(Object(c.a)({model:Ue(a.getModel(),p),max_tokens:l,stream:!0},r))}:{}),{},{onmessage:function(e){try{if("[DONE]"===e.data||"end"===(null===e||void 0===e?void 0:e.event))return void o(f,!0);var t=Ge(h,e.data);void 0!==t&&o(f+=t,!1)}catch(n){}},onopen:function(e){return Object(u.a)(s.a.mark((function t(){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Ve(window,h?"AI Own OpenAI used":"AI Credits used",{name:"dc-extension-rich-text",category:"Extension"}),!(null===(n=e.headers.get("content-type"))||void 0===n?void 0:n.startsWith("application/json"))){t.next=9;break}return t.t0=i,t.next=6,e.json();case 6:return t.t1=t.sent,(0,t.t0)(t.t1),t.abrupt("return");case 9:if(null===n||n.startsWith("text/event-stream")){t.next=11;break}throw new Error("Expected content-type to be 'text/event-stream', Actual: ".concat(n));case 11:case"end":return t.stop()}}),t)})))()},onerror:function(e){throw e}}));case 12:e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(4),e.abrupt("return",i(e.t0));case 17:case"end":return e.stop()}}),e,null,[[4,14]])})))).apply(this,arguments)}var Ye=function(){function e(){Object(d.a)(this,e),this.context=void 0}return Object(p.a)(e,[{key:"setRichTextEditorContext",value:function(e){this.context=e}},{key:"formatRewritePrompt",value:function(e,t,n){return"This is the original content I am starting with: \n---\n".concat(e,"\n---\nThis is the selection I want to update:\n---\n").concat(t,"\n---\nThis is the description of the change I want to make:\n---\n").concat(n)}},{key:"rewriteSelectedContentUsingAI",value:function(){var e=Object(u.a)(s.a.mark((function e(t,n){var a,r,o,i,l,c,u,d,p;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{g.a.addAction("rewriteSelectedContentUsingAI",{prompt:t})}catch(s){}return a=this.context||{},r=a.proseMirrorEditorView,o=a.language,i=r.state,l=i.selection.from,c=i.selection.to,u=i.doc.cut(l,c),d=o.serializeMarkdown(i.doc),p=o.serializeMarkdown(u),"# Say Cheese: The Ultimate Guide to Cheese\n\nCheese, the dairy product that has a special place in everyone's hearts, is a versatile ingredient that has been enjoyed for thousands of years across the globe. You can melt it, slice it, crumble it, or grate it - whatever way you choose, cheese always adds an extra dimension to any dish. In this ultimate guide to cheese, you'll learn everything you need to know about the world's favorite dairy product.\n\n## History of Cheese\n\nThe origin of cheese can be traced back to ancient times. Even before recorded history, it is believed that the process of cheesemaking was discovered accidentally by storing milk in animal bladders or stomachs, causing it to curdle and form cheese. Cheese quickly became a staple in the diets of people around the world and is now enjoyed in cultures all across the globe.\n\n## Types of Cheese\n\nThere are thousands of different types of cheese, each with its own flavor, texture, and aroma. From mild and creamy Brie to sharp and nutty Cheddar, there is a cheese for every taste preference. Some popular varieties of cheese include:\n\n* Cheddar\n\n* Brie\n\n* Mozzarella\n\n* Parmesan\n\n* Feta\n\n* Blue Cheese\n\n* Gouda\n\n## Conclusion\n\nCheese is a delicious and versatile ingredient that can be enjoyed in a variety of ways. From its humble beginnings thousands of years ago to its place as one of the world's most popular dairy products, cheese has a special place in the hearts of people around the world. So, let's raise a glass of wine and say cheese!","You can melt it, slice it, crumble it, or grate it - whatever way you choose, cheese always adds an extra dimension to any dish.","You can melt, slice, crumble, or grate it - cheese enhances any dish.",e.abrupt("return",this.handleInsertAIContent({messages:[{role:"system",content:"I want you to act as an editor for marketing copy.\n  - You will receive the original markdown document, followed by a selection from the document that the user wants to change, followed by a description of the change you should make.\n  - You should reply with a markdown formatted string that can replace the provided selection.\n\nDo not produce more content than you were originally provided unless specifically requested. \n  - If the selection includes only a header, reply with only a header. \n  - If the selection includes only a bullet point, reply with only a bullet point. \n  - If the selection includes only one line, reply with only one line. \n  - If the user asks you to make the selection longer, you can expand on the provided selection, but do not produce any additional elements.\n  - For example, if given a header, and asked to make it longer, you can add more text to the header, but you should not add any more lines.\n\nIf the user requests a change that you cannot produce a reasonable replacement for, you should respond with an error. \n  - Return errors sparingly, try to make a best effort attempt at handling the user's request whenever possible.\n  - If you return an error, prefix it with `[DIALOG]`. \n  - For example, if the user provides the selection `Banana` and asks you to shorten it, you might reply: `[DIALOG] I can't shorten \"Banana\" any further.`.\n\nDo not converse with the user. \n  - Do not ask clarifying questions. \n  - Do not add conversational preamble such as `Sure, I can do that`, or `Ok, here's the change`.\n  \n  ".concat(n.length?"Optimize the text for SEO following SEO best practices.\n   - Include the following keywords: ".concat(n.join(", "),"\n   "):"")},{role:"user",content:this.formatRewritePrompt("# Say Cheese: The Ultimate Guide to Cheese\n\nCheese, the dairy product that has a special place in everyone's hearts, is a versatile ingredient that has been enjoyed for thousands of years across the globe. You can melt it, slice it, crumble it, or grate it - whatever way you choose, cheese always adds an extra dimension to any dish. In this ultimate guide to cheese, you'll learn everything you need to know about the world's favorite dairy product.\n\n## History of Cheese\n\nThe origin of cheese can be traced back to ancient times. Even before recorded history, it is believed that the process of cheesemaking was discovered accidentally by storing milk in animal bladders or stomachs, causing it to curdle and form cheese. Cheese quickly became a staple in the diets of people around the world and is now enjoyed in cultures all across the globe.\n\n## Types of Cheese\n\nThere are thousands of different types of cheese, each with its own flavor, texture, and aroma. From mild and creamy Brie to sharp and nutty Cheddar, there is a cheese for every taste preference. Some popular varieties of cheese include:\n\n* Cheddar\n\n* Brie\n\n* Mozzarella\n\n* Parmesan\n\n* Feta\n\n* Blue Cheese\n\n* Gouda\n\n## Conclusion\n\nCheese is a delicious and versatile ingredient that can be enjoyed in a variety of ways. From its humble beginnings thousands of years ago to its place as one of the world's most popular dairy products, cheese has a special place in the hearts of people around the world. So, let's raise a glass of wine and say cheese!","You can melt it, slice it, crumble it, or grate it - whatever way you choose, cheese always adds an extra dimension to any dish.","Shorten this")},{role:"assistant",content:"You can melt, slice, crumble, or grate it - cheese enhances any dish."},{role:"user",content:this.formatRewritePrompt(d,p,t)}]}));case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"insertAIContent",value:function(){var e=Object(u.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{g.a.addAction("insertAIContent",{prompt:t})}catch(a){}return e.abrupt("return",this.handleInsertAIContent({messages:[{role:"system",content:"I want you to act as a copywriter that produces markdown formatted content for marketing.\n  - You will receive a prompt from the user.\n  - You should reply with a markdown document that can be used in marketing materials.\n  - Do not include hyperlinks in your response.\n  - Do not include images in your response.\n\nIf the user's prompt asks for only a portion of a document, you should return only that portion.\n  - If the user asks for only a title, produce only a title.\n  - If the user asks for only a paragraph, produce only a paragraph.\n  - If the user asks for only a bullet list, produce only a bullet list.\n\nIf the user provides a prompt that you cannot produce a document for, you should return an error.\n  - Prefix any errors with [DIALOG].\n  - For example, if the user's prompt is `Hello?`, then you might respond with `[DIALOG] Please describe the content you want to generate.`\n\nDo not converse with the user.\n  - Do not ask clarifying questions.\n  - Do not add conversational preamble such as `Sure, I can do that`, or `Ok, here's the change`.\n  - Do not include [DIALOG] if you've successfully produced a document.\n  \n  ".concat(n.length?"Optimize the text for SEO following SEO best practices.\n   - Include the following keywords: ".concat(n.join(", "),"\n   "):"")},{role:"user",content:t}]}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"handleInsertAIContent",value:function(){var e=Object(u.a)(s.a.mark((function e(t){var n,a,o,i,l,c,u,d,p,f,m,h,g,b,v,y,k,E,C,w,O,x,S=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p=this.context,f=p.proseMirrorEditorView,m=p.setIsLocked,h=p.params,g=p.language,b=new je(h),v=f.dispatch,y=f.state,m(!0),k=null!==(n=null===(a=y.selection)||void 0===a?void 0:a.from)&&void 0!==n?n:y.doc.content.size,E=(null===(o=y.selection)||void 0===o?void 0:o.to)||k,C=y.doc.resolve(k,E),"paragraph"===(null===C||void 0===C||null===(i=C.parent)||void 0===i||null===(l=i.type)||void 0===l?void 0:l.name)&&0===(null===C||void 0===C||null===(c=C.parent)||void 0===c||null===(u=c.content)||void 0===u?void 0:u.size)&&k--,this.context.setShowCreditsError(!1),e.prev=11,e.next=14,Ke(null===(O=this.context)||void 0===O?void 0:O.sdk,null===(x=this.context)||void 0===x?void 0:x.hub,b,t,(function(e,t){var n,a=0===e.length,o=e.startsWith("[DIALOG]"),i=!t&&e.length<"[DIALOG]".length&&e==="[DIALOG]".slice(0,e.length);if(o){var l=e.slice("[DIALOG]".length);return w?w.updateContent(l):w=S.context.dialogs.alert({title:"AI Assistant",icon:r.a.createElement(ce.a,null),severity:"info",content:l}),void m(!1)}if(!a&&!i){var s=g.parseMarkdown(e.trim()).content;1===s.content.length&&(s=s.content[0].content);var c=y.tr.replaceWith(k,E,s),u=v(c);y=u,E=Math.max(null===(n=y.selection)||void 0===n?void 0:n.to,k+s.size)}}),(function(e){var t,n,a,o,i,l;("INSUFFICIENT_CREDITS"===(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(n=t.errors)||void 0===n||null===(a=n[0])||void 0===a||null===(o=a.extensions)||void 0===o?void 0:o.code)&&(Ve(window,"AI Credits Limit reached",{name:"dc-extension-rich-text",category:"Extension"}),S.context.setShowCreditsError(!0)),null===e||void 0===e||null===(i=e.error)||void 0===i?void 0:i.message)&&S.context.dialogs.alert({title:"AI Assistant",icon:r.a.createElement(ce.a,null),severity:"error",content:null===e||void 0===e||null===(l=e.error)||void 0===l?void 0:l.message})}));case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:null===(d=this.context)||void 0===d||d.setIsLocked(!1);case 19:case"end":return e.stop()}}),e,this,[[11,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"insertContentStudioContent",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t,n,a,r,o,i,l,c,u,d,p,f,m,h,g,b,v,y,k;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=this.context,r=a.proseMirrorEditorView,o=a.params,i=a.language,l=r.dispatch,c=r.state,u=new He.a({baseUrl:(null===o||void 0===o||null===(t=o.tools)||void 0===t||null===(n=t.contentStudio)||void 0===n?void 0:n.baseUrl)||"https://app.amplience.net/content-studio"}),e.next=7,u.getContent();case 7:d=e.sent,p=d.content,(f=Object.values(p).filter((function(e){return"string"===typeof e}))).length>0&&(1===(b=i.parseMarkdown(f[0].trim()).content).content.length&&(b=b.content[0].content),v=null!==(m=null===(h=c.selection)||void 0===h?void 0:h.from)&&void 0!==m?m:c.doc.content.size,y=(null===(g=c.selection)||void 0===g?void 0:g.to)||v,k=c.tr.replaceWith(v,y,b),l(k)),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(0);case 15:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Xe=n(247),Qe=n(250),et=/^[a-zA-Z][\w:.-]*$/;var tt=function(e){var t=e.open,n=e.onClose,a=e.onSubmit,o=e.value?e.value.existing:new Set,i=r.a.useState({value:""}),l=Object(E.a)(i,2),s=l[0],u=l[1],d=r.a.useState(),p=Object(E.a)(d,2),f=p[0],m=p[1];null!=e.value&&null!=e.value.value&&f!==e.value.value&&(u(e.value.value),m(e.value.value));var h=function(e){return function(e,t){return null==e||0===e.length?"ID cannot be empty.":et.test(e)?t.has(e)?"ID is already in use.":void 0:"Invalid ID."}(e,o)},g=h(s.value),b=r.a.useState(g),v=Object(E.a)(b,2),y=v[0],k=v[1];g!==y&&k(g);var C=r.a.useCallback((function(e,t){var n=Object(c.a)(Object(c.a)({},s),{},Object(M.a)({},e,t));u(n);var a=h(n.value);k(a)}),[s,u,k]),w=function(){u({value:""})},O=r.a.useCallback((function(){w(),n()}),[u,n]),x=r.a.useCallback((function(){w(),a(s)}),[s,u,a]);return r.a.createElement(Ee.a,{maxWidth:"md",fullWidth:!0,open:t,onClose:n,"aria-labelledby":"form-dialog-title"},r.a.createElement(de.a,{id:"form-dialog-title"},"Anchor"),r.a.createElement(ge.a,null,r.a.createElement(Xe.a,{fullWidth:!0},r.a.createElement(be.a,{error:void 0!==y,autoFocus:!0,id:"value",label:"Anchor ID",type:"input",required:!0,fullWidth:!0,value:s.value,onChange:function(e){return C("value",e.target.value)},helperText:y}),r.a.createElement(Qe.a,null,"Example: paragraph-4"))),r.a.createElement(ke.a,null,r.a.createElement($.a,{onClick:O,color:"primary"},"Cancel"),r.a.createElement($.a,{disabled:void 0!==y,onClick:x,color:"primary"},"Confirm")))},nt=/^[a-zA-Z]?[\w:.\-/]*$/,at=function(e){var t=e.open,n=e.onClose,a=e.onSubmit,o=r.a.useState(""),i=Object(E.a)(o,2),l=i[0],s=i[1],c=r.a.useState(""),u=Object(E.a)(c,2),d=u[0],p=u[1],f=r.a.useState(),m=Object(E.a)(f,2),h=m[0],g=m[1];h!==e.value&&(s(e.value||""),g(e.value));var b=r.a.useCallback((function(e){s(e||"");var t,n=(t=e,nt.test(t)?"":"Value contains invalid characters");p(n)}),[l,s,p]),v=function(){s("")},y=r.a.useCallback((function(){v(),n()}),[s,n]),k=r.a.useCallback((function(){v(),a(l)}),[l,s,a]);return r.a.createElement(Ee.a,{maxWidth:"md",fullWidth:!0,open:t,onClose:n,"aria-labelledby":"form-dialog-title"},r.a.createElement(de.a,{id:"form-dialog-title"},"Code block"),r.a.createElement(ge.a,null,r.a.createElement(Xe.a,{fullWidth:!0},r.a.createElement(be.a,{error:!!d,helperText:d,autoFocus:!0,id:"href",label:"Language",type:"input",fullWidth:!0,value:l,onChange:function(e){return b(e.target.value||"")}}),r.a.createElement(Qe.a,null,"The language to use for syntax highlighting, e.g. javascript or html"))),r.a.createElement(ke.a,null,r.a.createElement($.a,{onClick:y,color:"primary"},"Cancel"),r.a.createElement($.a,{disabled:!!d,onClick:k,color:"primary"},"Confirm")))};var rt=function(e){var t=e.open,n=e.onClose,a=e.onSubmit,o=r.a.useState({href:"",title:""}),i=Object(E.a)(o,2),l=i[0],s=i[1],u=r.a.useState(),d=Object(E.a)(u,2),p=d[0],f=d[1];null!=e.value&&p!==e.value&&(s(e.value),f(e.value));var m=r.a.useState(!1),h=Object(E.a)(m,2),g=h[0],b=h[1],v=r.a.useCallback((function(e,t){var n=Object(c.a)(Object(c.a)({},l),{},Object(M.a)({},e,t));s(n),b(function(e){return null!=e&&e.length>0}(n.href))}),[l,s,b]),y=function(){s({href:"",title:""}),f(void 0)},k=r.a.useCallback((function(){y(),void 0===p?n():a(Object(c.a)(Object(c.a)({},p),{},{cancel:!0}))}),[p,f,a]),C=r.a.useCallback((function(){y(),n()}),[n]),w=r.a.useCallback((function(){y(),a(l)}),[l,s,a]);return r.a.createElement(Ee.a,{maxWidth:"md",fullWidth:!0,open:t,onClose:k,"aria-labelledby":"form-dialog-title"},r.a.createElement(de.a,{id:"form-dialog-title"},"Hyperlink"),r.a.createElement(ge.a,null,r.a.createElement(Xe.a,{fullWidth:!0},r.a.createElement(be.a,{autoFocus:!0,id:"href",label:"Web Address",type:"input",required:!0,fullWidth:!0,value:l.href,onChange:function(e){return v("href",e.target.value)}}),r.a.createElement(Qe.a,null,"Example: https://www.storefront.com/black-friday")),r.a.createElement(Xe.a,{fullWidth:!0},r.a.createElement(be.a,{id:"title",label:"Title",type:"input",fullWidth:!0,value:l.title,onChange:function(e){return v("title",e.target.value)}}),r.a.createElement(Qe.a,null,"Example: Black Friday Sale"))),r.a.createElement(ke.a,null,r.a.createElement($.a,{onClick:C,color:"primary"},"Clear"),r.a.createElement($.a,{disabled:!g,onClick:w,color:"primary"},"Confirm")))};var ot=function(e){var t=e.open,n=e.onClose,a=e.onSubmit,o=r.a.useState({src:"",alt:"",title:""}),i=Object(E.a)(o,2),l=i[0],s=i[1],u=r.a.useState(!1),d=Object(E.a)(u,2),p=d[0],f=d[1],m=r.a.useCallback((function(e,t){var n=Object(c.a)(Object(c.a)({},l),{},Object(M.a)({},e,t));s(n),f(function(e){return null!=e&&e.length>0}(n.src))}),[l,s,f]),h=function(){s({src:"",alt:"",title:""})},g=r.a.useCallback((function(){h(),n()}),[s,n]),b=r.a.useCallback((function(){h(),a(l)}),[l,s,a]);return r.a.createElement(Ee.a,{maxWidth:"md",fullWidth:!0,open:t,onClose:n,"aria-labelledby":"form-dialog-title"},r.a.createElement(de.a,{id:"form-dialog-title"},"Insert Image from URL"),r.a.createElement(ge.a,null,r.a.createElement(Xe.a,{fullWidth:!0},r.a.createElement(be.a,{autoFocus:!0,id:"src",label:"Image Address",type:"input",required:!0,fullWidth:!0,value:l.src,onChange:function(e){return m("src",e.target.value)}}),r.a.createElement(Qe.a,null,"Example: https://cdn.storefront.com/image.jpg")),r.a.createElement(Xe.a,{fullWidth:!0},r.a.createElement(be.a,{id:"title",label:"Image Title",type:"input",fullWidth:!0,value:l.title,onChange:function(e){return m("title",e.target.value)}}),r.a.createElement(Qe.a,null,"Example: Black Friday Sale")),r.a.createElement(Xe.a,{fullWidth:!0},r.a.createElement(be.a,{id:"alt",label:"Image Alternative Text",type:"input",fullWidth:!0,value:l.alt,onChange:function(e){return m("alt",e.target.value)}}),r.a.createElement(Qe.a,null,"Example: Black Friday Sale"))),r.a.createElement(ke.a,null,r.a.createElement($.a,{onClick:g,color:"primary"},"Cancel"),r.a.createElement($.a,{disabled:!p,onClick:b,color:"primary"},"Insert")))},it=r.a.createContext({}),lt=n(324),st=n(16),ct=Object(k.a)((function(e){return{root:Object(c.a)(Object(c.a)({},e.typography.body2),{},{display:"flex",flexDirection:"row",maxWidth:300,borderRadius:e.shape.borderRadius,backgroundColor:"transparent",padding:"6px 16px"}),success:{color:Object(st.a)(e.palette.success.main,.6),backgroundColor:Object(st.e)(e.palette.success.main,.9),"& $icon":{color:e.palette.success.main}},info:{color:Object(st.a)(e.palette.info.main,.6),backgroundColor:Object(st.e)(e.palette.info.main,.9),"& $icon":{color:e.palette.info.main}},warning:{color:Object(st.a)(e.palette.warning.main,.6),backgroundColor:Object(st.e)(e.palette.warning.main,.9),"& $icon":{color:e.palette.warning.main}},error:{color:Object(st.a)(e.palette.error.main,.6),backgroundColor:Object(st.e)(e.palette.error.main,.9),"& $icon":{color:e.palette.error.main}},title:{fontWeight:e.typography.fontWeightMedium},header:{display:"flex",flexDirection:"row"},content:{padding:"8px 0"},icon:{marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}))((function(e){var t=e.classes,n=e.children,a=e.severity,o=e.title,i=e.icon,l=e.onClose;return r.a.createElement("div",{className:Object(P.a)(t.root,{info:t.info,success:t.success,error:t.error,warning:t.warning}[a])},r.a.createElement("div",{className:t.icon},i),r.a.createElement("div",{className:t.content},r.a.createElement("div",{className:t.header},r.a.createElement(fe.a,{variant:"body1",className:t.title},o)),n),r.a.createElement("div",{className:t.action},r.a.createElement(G.a,{onClick:l,size:"small",color:"inherit"},r.a.createElement(Ce.a,null))))})),ut=0,dt=function(e){var t=e.children,n=e.params,a=r.a.useState(),o=Object(E.a)(a,2),i=o[0],l=o[1],s=r.a.useReducer((function(e,t){switch(t.type){case"ADD_ALERT":return[].concat(Object(w.a)(e),[t.alert]);case"REMOVE_ALERT":var n=e.findIndex((function(e){return e.id===t.id}));return-1!==n&&e.splice(n,1),Object(w.a)(e);case"UPDATE_ALERT_CONTENT":var a=e.find((function(e){return e.id===t.id}));return a&&(a.content=t.content),Object(w.a)(e)}return e}),[]),u=Object(E.a)(s,2),d=u[0],p=u[1],f=r.a.useCallback((function(){i&&i.reject(),l(void 0)}),[i,l]),m=r.a.useCallback((function(e){i&&i.resolve(e),l(void 0)}),[i,l]),h=r.a.useCallback((function(e,t,n){return new Promise((function(a,r){l({type:e,resolve:a,reject:r,value:t,options:n})}))}),[l]),g=r.a.useContext(y.d).sdk,b=r.a.useCallback((function(e,t){p({type:"UPDATE_ALERT_CONTENT",id:e,content:t})}),[p]),v=r.a.useCallback((function(e){p({type:"REMOVE_ALERT",id:e})}),[p]),k={getAnchor:function(e,t){return h("anchor",{value:t,existing:e})},getCode:function(e){return h("code",e)},getHyperlink:function(e){return h("hyperlink",e)},getImage:function(e){return h("image")},getDcImageLink:function(e){return g?g.mediaLink.getImage():Promise.reject()},getDcContentLink:function(e,t){return g?g.contentLink.get(e):Promise.reject()},getAIPrompt:function(e){return h("ai_prompt",void 0,e)},alert:function(e){var t=Object(c.a)({id:"".concat(ut++)},e);return t.updateContent=function(e){b(t.id,e)},p({type:"ADD_ALERT",alert:t}),t}};return r.a.createElement(it.Provider,{value:{dialogs:k}},t,r.a.createElement(tt,{value:null!=i?i.value:void 0,open:null!=i&&"anchor"===i.type,onClose:f,onSubmit:m}),r.a.createElement(at,{value:null!=i?i.value:void 0,open:null!=i&&"code"===i.type,onClose:f,onSubmit:m}),r.a.createElement(rt,{value:null!=i?i.value:void 0,open:null!=i&&"hyperlink"===i.type,onClose:f,onSubmit:m}),r.a.createElement(ot,{open:null!=i&&"image"===i.type,onClose:f,onSubmit:m}),r.a.createElement(Be,Object.assign({open:null!=i&&"ai_prompt"===i.type,onClose:f,onSubmit:m,params:n},(null===i||void 0===i?void 0:i.options)||{})),d.map((function(e){return r.a.createElement(lt.a,{key:e.id,onClose:function(){return v(e.id)},open:!0,autoHideDuration:6e3,anchorOrigin:{vertical:"bottom",horizontal:"right"}},r.a.createElement(ct,{severity:e.severity,title:e.title,icon:e.icon,onClose:function(){return v(e.id)}},e.content))})))},pt=Object(k.a)((function(e){return{root:{borderTop:"1px solid rgb(218, 220, 224)",position:"relative",background:"white",paddingTop:"10px",width:"100%",bottom:0},chip:{color:"#039be5",border:"1px solid rgba(3, 155, 229, 0.5)",borderRadius:"3px",fontSize:"13px",padding:"0 5px",height:"30px","&:hover":{border:"1px solid rgba(3, 155, 229, 1)",backgroundColor:"#fff !important"},"&:focus":{backgroundColor:"#fff !important"}}}}))((function(e){var t,n,a=e.classes,o=e.showCreditsError,i=ee(),l=i.params,c=i.actions,d=i.dialogs,p=i.proseMirrorEditorView,f=new je(l),m=!0!==(null===(t=null===l||void 0===l?void 0:l.tools)||void 0===t||null===(n=t.ai)||void 0===n?void 0:n.disabled),h=f.getEditPrompts(),g=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.rewriteSelectedContentUsingAI(t.prompt,[]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(u.a)(s.a.mark((function e(){var t,n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.getAIPrompt({variant:"rewrite"});case 2:return t=e.sent,n=t.prompt,a=t.keywords,e.next=7,c.rewriteSelectedContentUsingAI(n,a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return m?r.a.createElement("div",{className:a.root},r.a.createElement(pe.a,{direction:"row",spacing:1,container:!0,style:{gap:12}},h.map((function(e){return r.a.createElement(pe.a,{key:e.label,item:!0},r.a.createElement(he.a,{className:a.chip,label:e.label,variant:"outlined",onClick:function(){return g(e)},disabled:o,style:{visibility:(null===p||void 0===p?void 0:p.state.selection.empty)?"hidden":"visible"}}))})),r.a.createElement(pe.a,{item:!0},r.a.createElement(he.a,{className:a.chip,label:"Custom rewrite",variant:"outlined",onClick:function(){return b()},disabled:o,style:{visibility:(null===p||void 0===p?void 0:p.state.selection.empty)?"hidden":"visible"}})))):r.a.createElement(r.a.Fragment,null)}));function ft(e){return e.showCreditsError?r.a.createElement("p",{style:{fontSize:"11px",color:"#FF3366",fontFamily:"'IBM Plex Sans', sans-serif"}},"You're out of Amplience credits. You can still use the Editor to compose text yourself."," ",r.a.createElement("a",{href:"https://amplience.com/developers/docs/ai-services/credits",style:{color:"#039BE5",textDecoration:"none"},target:"_blank",rel:"noopener noreferrer"},"Top up your credits")):r.a.createElement(r.a.Fragment,null)}var mt=Object(a.createContext)({}),ht=Object(k.a)({root:{width:"100%",height:"100%",display:"flex"},frame:{flex:1,display:"flex",flexDirection:"column",border:"1px solid rgba(157,162,162,.3)",borderRadius:5,padding:"12px 20px"}})((function(e){var t=e.classes,n=e.languages,o=e.language,i=void 0===o?"markdown":o,l=e.toolbarLayout,s=e.disableToolbar,u=void 0!==s&&s,d=e.disableCodeView,p=void 0!==d&&d,f=e.readOnlyCodeView,m=void 0!==f&&f,h=e.editorViewOptions,g=e.value,b=e.onChange,v=e.params,k=Object(a.useState)(!1),w=Object(E.a)(k,2),O=w[0],x=w[1],S=Object(a.useState)(!1),j=Object(E.a)(S,2),T=j[0],I=j[1],_=Object(a.useState)(void 0),D=Object(E.a)(_,2),A=D[0],L=D[1],M=r.a.useContext(it).dialogs,P=Object(a.useState)(new Ye),W=Object(E.a)(P,1)[0],V=n||{markdown:Object(B.b)({})};if(!V[i])throw new Error("Unable to find language ".concat(e.language));var H=V[i],$=H.language,U=H.conf,G=r.a.useContext(y.d).sdk,J=r.a.useContext(mt).hub,q={isLocked:O,setIsLocked:x,proseMirrorEditorView:A,dialogs:M,actions:W,params:v,languages:V,language:$,sdk:G,hub:J,setShowCreditsError:I};W.setRichTextEditorContext(q);var K=r.a.useState(N.EDIT),Z=Object(E.a)(K,2),Y=Z[0],X=Z[1],ee=r.a.useState((function(){if(g)return U.format===F.RichLanguageFormat.JSON?JSON.stringify(g,null,3):g})),te=Object(E.a)(ee,2),ne=te[0],ae=te[1],re=r.a.useState((function(){if(g)try{return $.parse(g)}catch(e){}})),oe=Object(E.a)(re,2),ce=oe[0],ue=oe[1],de=r.a.useCallback((function(e){if(ae(e),U.format===F.RichLanguageFormat.JSON)try{e=JSON.parse(e)}catch(n){return}b&&b(e);try{var t=$.parse(e);ue(t)}catch(n){}}),[U,ae,ue,b]),pe=r.a.useCallback((function(e){ue(e);try{var t=$.serialize(e);U.format===F.RichLanguageFormat.JSON?ae(JSON.stringify(t,null,3)):ae(t),b&&b(t)}catch(n){}}),[U,ue,ae]),fe=r.a.useState(),me=Object(E.a)(fe,2),he=me[0],ge=me[1],be=l||le,ve=r.a.useCallback((function(e,t){L(t),ge(function(e,t,n){var a,r={},o=Object(se.a)(e);try{for(o.s();!(a=o.n()).done;){var i=a.value,l=Object(c.a)({active:!1,enabled:!0,visible:!0},i);i.isActive&&(l.active=i.isActive(t,n)),i.isVisible&&(l.visible=i.isVisible(t,n)),i.isEnabled&&(l.enabled=i.isEnabled(t,n)),r[i.name]=l}}catch(s){o.e(s)}finally{o.f()}return{tools:e,toolStates:r,params:{}}}($.tools,e,q))}),[$,ge]);return r.a.createElement(Q.Provider,{value:q},r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.frame},r.a.createElement(z,{onChange:X,language:$.label,disableCodeView:p}),Y===N.EDIT?r.a.createElement("div",null,!u&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ft,{showCreditsError:T,loading:O}),r.a.createElement(ie,{toolbarState:he,layout:be,isLocked:q.isLocked,params:v})),r.a.createElement("div",{style:{position:"relative"}},r.a.createElement(R,{editorViewOptions:h,schema:$.schema,onChange:pe,onUpdateState:ve,doc:ce,isLocked:q.isLocked}),r.a.createElement(pt,{showCreditsError:T}))):r.a.createElement(C,{value:ne,onChange:de,readOnly:q.isLocked||m}))))})),gt=n(157),bt=n(58),vt=Object(k.a)({root:{width:"100%",minWidth:440},title:{padding:"7px 0",minHeight:"20px",color:"#666",fontSize:"13px",boxSizing:"border-box","-webkit-font-smoothing":"auto",fontFamily:"roboto,sans-serif!important"}})((function(e){var t,n,a,o=e.schema,i=e.value,l=e.onChange,s=e.classes,u=(null===o||void 0===o||null===(t=o["ui:extension"])||void 0===t?void 0:t.params)||{},d=r.a.useContext(y.d).sdk,p=r.a.useContext(it).dialogs;u=d?Object(c.a)(Object(c.a)(Object(c.a)(Object(c.a)({},u),null===(n=d.params)||void 0===n?void 0:n.installation),null===(a=d.params)||void 0===a?void 0:a.instance),{},{sdk:d}):u;var f=r.a.useMemo((function(){var e={useClasses:u.useClasses,classOverride:u.classOverride,dialogs:p,actions:new Ye,dynamicContent:{stagingEnvironment:d?d.stagingEnvironment:void 0},tools:u.tools};return e.tools&&!e.tools.blacklist&&(e.tools.blacklist=["inline_styles"]),e}),[d,p,u]),m=r.a.useMemo((function(){return{markdown:Object(B.b)(f),json:Object(gt.default)(f)}}),[]),h=r.a.useMemo((function(){return{nodeViews:{"dc-image-link":function(e,t,n){return new bt.d(e,t,n,f)},"dc-content-link":function(e,t,n){return new bt.b(e,t,n,f)}}}}),[d,f]);return r.a.createElement("div",{className:s.root},!!u.styles&&r.a.createElement("style",{dangerouslySetInnerHTML:{__html:u.styles}}),!!u.stylesheet&&r.a.createElement("link",{rel:"stylesheet",href:u.stylesheet}),!!u.title&&r.a.createElement("div",{className:s.title},u.title),r.a.createElement(ht,{languages:m,language:u.language,editorViewOptions:h,toolbarLayout:u.toolbar?u.toolbar.layout:void 0,disableToolbar:u.toolbar?u.toolbar.disabled:void 0,disableCodeView:u.codeView?u.codeView.disabled:void 0,readOnlyCodeView:u.codeView?u.codeView.readOnly:void 0,onChange:l,params:u,value:i}))})),yt=function(e){var t=Object(c.a)({},e.typography);return t.fontFamily="'IBM Plex Sans', sans-serif",["h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","button","caption","overline"].forEach((function(e){t[e].fontFamily="'IBM Plex Sans', sans-serif"})),Object(c.a)(Object(c.a)({},e),{},{typography:t})},kt=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={connected:!1},a.handleValueChange=a.handleValueChange.bind(Object(f.a)(a)),a.handleChooseLink=a.handleChooseLink.bind(Object(f.a)(a)),a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.handleConnect(),this.handleInitRum()}},{key:"handleInitRum",value:function(){var e=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_DATADOG_TOKEN,t=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_DATADOG_APP_ID,n=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_DATADOG_ENV_ID;e&&t&&n&&(g.a.init({applicationId:t,clientToken:e,env:n,site:"datadoghq.com",service:"dc-extension-rich-text",version:"0.1.0",trackResources:!0,trackLongTasks:!0,trackUserInteractions:!0,defaultPrivacyLevel:"allow",sampleRate:100,useCrossSiteSessionCookie:!0,proxy:"https://dd-proxy.amplience.net"}),g.a.startSessionReplayRecording())}},{key:"handleConnect",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t,n,a,r,o,i,l,u,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.a)();case 2:return(i=e.sent).frame.startAutoResizer(),i.contentItem.getCurrent().then((function(e){g.a.setGlobalContext({deliveryId:e.deliveryId})})).catch((function(){})),e.next=7,i.connection.request("context-get").then((function(e){return e.hub})).catch((function(){return{}}));case 7:return l=e.sent,u=Object(c.a)(Object(c.a)(Object(c.a)({},null===(t=i.field)||void 0===t||null===(n=t.schema)||void 0===n||null===(a=n["ui:extension"])||void 0===a?void 0:a.params),null===(r=i.params)||void 0===r?void 0:r.installation),null===(o=i.params)||void 0===o?void 0:o.instance),e.next=11,i.field.getValue();case 11:d=e.sent,this.setState({sdk:i,connected:!0,value:d,params:u,hub:l});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleValueChange",value:function(e){this.state.connected&&this.state.sdk&&this.state.sdk.field.setValue(e)}},{key:"handleChooseLink",value:function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{href:"",title:""});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.connected,n=e.value,a=e.sdk,o=e.hub;return r.a.createElement("div",{className:"App"},t&&a?r.a.createElement("div",null,Object(y.i)(r.a.createElement(b.a,{theme:yt},r.a.createElement(y.d.Provider,{value:{sdk:a}},r.a.createElement(mt.Provider,{value:{hub:o}},r.a.createElement(dt,{params:this.state.params},r.a.createElement(vt,{onChange:this.handleValueChange,value:n,schema:a.field.schema}))))))):r.a.createElement("div",null,"\xa0"))}}]),n}(r.a.Component);n(244);i.a.render(r.a.createElement(kt,null),document.getElementById("root")),function(){var e;if(We){window.aptrinsic=function(){(window.aptrinsic.q=window.aptrinsic.q||[]).push(arguments)},window.aptrinsic.p=We,window.aptrinsic.c={allowCrossDomain:!0};var t=window.document.createElement("script");t.async=!0,t.src="https://web-sdk.aptrinsic.com/api/aptrinsic.js?a=".concat(We);var n=window.document.getElementsByTagName("script")[0];null===(e=n.parentNode)||void 0===e||e.insertBefore(t,n)}}()},27:function(e,t,n){"use strict";function a(e,t){return(!t.tools||!t.tools.blacklist||-1===t.tools.blacklist.indexOf(e))&&(!t.tools||!t.tools.whitelist||-1!==t.tools.whitelist.indexOf(e))}n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=/^-?[_a-zA-Z]+[_a-zA-Z0-9-]*$/;function o(e,t){if(t&&t.classOverride){var n=t.classOverride[e];return n&&r.test(n)?n:e}return e}function i(e,t){if(t&&t.classOverride){var n=t.classOverride;return Object.keys(n).find((function(t){return n[t]===e}))||e}return e}},44:function(e,t,n){"use strict";function a(e){return e.selection.$from.depth>1}function r(e,t){var n=e.selection,a=n.from,r=n.$from,o=n.to;return n.empty?t.isInSet(e.storedMarks||r.marks()):e.doc.rangeHasMark(a,o,t)}function o(e){var t=e.selection,n=t.$from,a=t.$to,r=[];return e.doc.nodesBetween(n.pos,a.pos,(function(e,t){e.marks.forEach((function(n){return r.push({from:t,to:t+e.nodeSize,mark:n})}))})),r}function i(e,t){for(var n=e.selection.$from,a=n.depth;a>=0;a--){var r=n.index(a);if(n.node(a).canReplaceWith(r,r,t))return!0}return!1}function l(){return function(e,t){var n=e.selection,a=n.$cursor,r=n.ranges;if(t)if(a)for(var o=0,i=e.storedMarks||a.marks();o<i.length;o++){var l=i[o];t(e.tr.removeStoredMark(l.type))}else{for(var s=e.tr,c=0,u=r;c<u.length;c++)for(var d=u[c],p=0,f=Object.keys(e.schema.marks);p<f.length;p++){var m=f[p];s.removeMark(d.$from.pos,d.$to.pos,e.schema.marks[m])}t(s)}return!0}}n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return l}))},58:function(e,t,n){"use strict";function a(){return{content:"block",group:"block",defining:!0,attrs:{value:{}},nodeSize:1,draggable:!0,atom:!0,parseDOM:[{tag:"dc-image-link[data-dc-image-link]",getAttrs:function(e){return{value:JSON.parse(e.getAttribute("data-dc-image-link"))}}}],toDOM:function(e){var t=e.attrs.value;return["dc-image-link",{"data-dc-image-link":JSON.stringify(t)}]}}}n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return v})),n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return E})),n.d(t,"e",(function(){return I}));var r=n(0),o=n.n(r),i=n(19),l=n.n(i),s=n(24),c=n(6),u=n(2),d=function(){return(d=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},p=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},f=Object(c.a)({root:{display:"block",width:"100%",minHeight:150,margin:"0 10px 10px 0",position:"relative"},content:{},"empty-slot":{},"populated-slot":{}})((function(e){var t,n=e.classes,a=e.children,r=e.className,i=e.variant,l=void 0===i?"empty":i,s=e.aspectRatio,c=p(e,["classes","children","className","variant","aspectRatio"]),f=o.a.useMemo((function(){if(s){var e=s.split(":");if(2===e.length)return Math.round(Number(e[1])/Number(e[0])*100)+"%"}}),[s]);return o.a.createElement("div",d({},c,{className:Object(u.a)(n.root,(t={},t[n["empty-slot"]]="empty-slot"===l,t[n["populated-slot"]]="populated-slot"===l,t),r)}),s?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{display:"block",paddingTop:f}},"\xa0"),o.a.createElement("div",{className:Object(u.a)(n.content)},a)):o.a.createElement("div",{className:Object(u.a)(n.content)},a))})),m=n(320),h=n(158),g=n.n(h),b=Object(c.a)({root:{"&$broken, &$invalid":{background:"#e5e5e5"}},image:{maxWidth:"100%"},loading:{},broken:{},invalid:{},statusIcons:{top:0,left:0,right:0,bottom:0,display:"flex",position:"absolute",alignItems:"center",alignContent:"center",flexDirection:"row",justifyContent:"center"}})((function(e){var t,n=e.node,a=e.onDelete,r=e.classes,i=e.options,l=n.attrs.value,c=o.a.useState(!1),d=c[0],p=c[1],h=o.a.useState(!1),b=h[0],v=h[1],y=o.a.useCallback((function(){v(!0)}),[v]),k=o.a.useCallback((function(){p(!0),v(!1)}),[p,v]),E=o.a.useCallback((function(){p(!1),v(!1)}),[p,v]),C=l&&l.endpoint&&l.name,w=s.e;return o.a.createElement("div",{className:Object(u.a)(r.root,(t={},t[r.broken]=d,t[r.loading]=b,t[r.invalid]=!C,t))},o.a.createElement(f,{variant:"populated-slot",aspectRatio:d||b||!C?"3:1":void 0},!!C&&o.a.createElement("img",{className:r.image,src:"//"+(i&&i.dynamicContent&&i.dynamicContent.stagingEnvironment?i.dynamicContent.stagingEnvironment:l.defaultHost)+"/i/"+l.endpoint+"/"+encodeURIComponent(l.name),onLoadStart:y,onError:k,onLoad:E,alt:""}),o.a.createElement("div",{className:r.statusIcons},b?o.a.createElement(m.a,null):!(!d&&C)&&o.a.createElement(g.a,{fontSize:"large"})),o.a.createElement(s.a,{variant:"populated-slot"},o.a.createElement(w,{variant:"dark",onClick:a},s.c))))})),v=function(){function e(e,t,n,a){void 0===a&&(a={}),this.node=e,this.view=t,this.getPos=n,this.options=a,this.dom=document.createElement("div"),this.handleDelete=this.handleDelete.bind(this),this.render()}return e.prototype.handleDelete=function(){var e=this.getPos(),t=this.view.state.tr.delete(e,e+this.node.nodeSize);this.view.dispatch(t)},e.prototype.render=function(){l.a.render(Object(s.i)(o.a.createElement(b,{options:this.options,node:this.node,onDelete:this.handleDelete})),this.dom)},e}();function y(){return{content:"block",group:"block",defining:!0,attrs:{value:{}},nodeSize:1,draggable:!0,atom:!0,parseDOM:[{tag:"dc-content-link[data-dc-content-link]",getAttrs:function(e){return{value:JSON.parse(e.getAttribute("data-dc-content-link"))}}}],toDOM:function(e){var t=e.attrs.value;return["dc-content-link",{"data-dc-content-link":JSON.stringify(t)}]}}}var k=Object(c.a)({root:{"&$broken, &$invalid":{background:"#e5e5e5"},boxShadow:"0 1px 5px 0 rgba(23,32,44,.2), 0 2px 2px 0 rgba(23,32,44,.1), 0 3px 1px -2px rgba(23,32,44,.1)"},invalid:{},content:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"50%"},statusIcons:{top:0,left:0,right:0,bottom:0,display:"flex",position:"absolute",alignItems:"center",alignContent:"center",flexDirection:"row",justifyContent:"center"}})((function(e){var t,n=e.node,a=e.onDelete,r=e.classes,i=e.options,l=n.attrs.value,c=l&&l.id&&l.contentType,d=i.tools&&i.tools["dc-content-link"]?i.tools["dc-content-link"]:void 0,p=d?function(e){if(void 0!==e){if(Array.isArray(e)){var t={cards:{},icons:{},aspectRatios:{}};return e.forEach((function(e){e.card&&(t.cards[e.id]=e.card),e.icon&&(t.icons[e.id]=e.icon),e.aspectRatio&&t.aspectRatios&&(t.aspectRatios[e.id]=e.aspectRatio)})),t}return e}}(d.contentTypeSettings):void 0,m=p&&c?Object(s.h)(p,l.contentType):void 0,h=p&&c?Object(s.g)(p,l.contentType):void 0,g=p&&p.aspectRatios&&c?function(e,t){for(var n=0,a=Object.keys(e);n<a.length;n++){var r=a[n];if("*"===r||r===t)return e[r]}}(p.aspectRatios,l.contentType):void 0,b=s.e;return o.a.createElement("div",{className:Object(u.a)(r.root,(t={},t[r.invalid]=!c,t))},o.a.createElement(f,{variant:"populated-slot",aspectRatio:g||"3:1"},o.a.createElement("div",{className:Object(u.a)(r.content),style:{backgroundImage:"url("+(m||s.b)+")"}},!!(h&&i&&i.dynamicContent&&i.dynamicContent.stagingEnvironment)&&o.a.createElement(s.f,{template:h,params:{contentItemId:l.id,stagingEnvironment:i.dynamicContent.stagingEnvironment}})),o.a.createElement(s.a,{variant:"populated-slot"},o.a.createElement(b,{variant:"dark",onClick:a},s.c))))}));var E=function(){function e(e,t,n,a){void 0===a&&(a={}),this.node=e,this.view=t,this.getPos=n,this.options=a,this.dom=document.createElement("div"),this.handleDelete=this.handleDelete.bind(this),this.render()}return e.prototype.handleDelete=function(){var e=this.getPos(),t=this.view.state.tr.delete(e,e+this.node.nodeSize);this.view.dispatch(t)},e.prototype.render=function(){l.a.render(Object(s.i)(o.a.createElement(k,{options:this.options,node:this.node,onDelete:this.handleDelete})),this.dom)},e}(),C=n(11),w=n(160),O=n.n(w),x=n(159),S=n.n(x),j=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{s(a.next(e))}catch(t){o(t)}}function l(e){try{s(a.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((a=a.apply(e,t||[])).next())}))},T=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(l){o=[6,l],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};function I(e,t){var n=[];return Object(C.isToolEnabled)("dc-image-link",t)&&e.nodes["dc-image-link"]&&n.push(function(e){var t=this,n=e.nodes["dc-image-link"];return{name:"dc-image-link",label:"Insert Image",displayIcon:o.a.createElement(S.a,null),isEnabled:function(e){return!Object(C.inBlock)(e)},apply:function(e,a,r){return j(t,void 0,void 0,(function(){var t;return T(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,r.dialogs.getDcImageLink()];case 1:return t=o.sent(),a(e.tr.replaceSelectionWith(n.createAndFill({value:t}))),[3,3];case 2:return o.sent(),[3,3];case 3:return[2]}}))}))}}}(e)),Object(C.isToolEnabled)("dc-content-link",t)&&e.nodes["dc-content-link"]&&t.tools&&t.tools["dc-content-link"]&&t.tools["dc-content-link"].contentTypes&&t.tools["dc-content-link"].contentTypes&&n.push(function(e,t){var n=this,a=e.nodes["dc-content-link"];return{name:"dc-content-link",label:"Insert Content",displayIcon:o.a.createElement(O.a,null),isEnabled:function(e){return!Object(C.inBlock)(e)},apply:function(e,r,o){return j(n,void 0,void 0,(function(){var n;return T(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,o.dialogs.getDcContentLink(t)];case 1:return n=i.sent(),r(e.tr.replaceSelectionWith(a.createAndFill({value:n}))),[3,3];case 2:return i.sent(),[3,3];case 3:return[2]}}))}))}}}(e,t.tools["dc-content-link"].contentTypes)),n}},62:function(e,t,n){"use strict";n.d(t,"a",(function(){return ce}));var a=n(11),r=n(296),o=n(297),i=n(298),l=n(299),s=n(0),c=n.n(s),u=function(){return(u=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function d(e){var t=new Set,n=[];return e.doc.nodesBetween(e.selection.from,e.selection.to,(function(e,a,r,o){e.isTextblock&&!t.has(e)&&(n.push({node:e,pos:a,start:0,depth:0}),t.add(e))})),Array.from(n)}function p(e,t,n){var a=d(e),r=e.tr;return a.forEach((function(e){var t=e.node,a=e.pos;r=r.setNodeMarkup(a,t.type,u(u({},t.attrs),{align:n}))})),t&&t(r),!0}function f(e,t,n){var a=d(e),r=!1;return a.forEach((function(e){(a[0].node.attrs.align||"left")!==n&&(r=!0)})),0!==a.length&&!r}function m(e,t){return d(e).length>0}var h={group:"inline",inline:!0,attrs:{value:{}},parseDOM:[{tag:"a[id]",getAttrs:function(e){return{value:JSON.parse(e.getAttribute("id"))}}}],toDOM:function(e){var t=e.attrs.value;return["a",{id:JSON.stringify(t)},t]}},g=n(300),b=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{s(a.next(e))}catch(t){o(t)}}function l(e){try{s(a.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((a=a.apply(e,t||[])).next())}))},v=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(l){o=[6,l],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};function y(e){var t=this;return function(n,a,r){return b(t,void 0,void 0,(function(){var t,o,i,l,s,c;return v(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),t=new Set,o=function(e){"anchor"===e.type.name?t.add(e.attrs.value):e.forEach(o)},n.doc.forEach(o),i=n.selection,l=i.$from,s=i.$to,n.doc.nodesBetween(l.pos,s.pos,(function(e,n){"anchor"===e.type.name&&t.delete(e.attrs.value)})),[4,r.dialogs.getAnchor(t)];case 1:return c=u.sent(),a(n.tr.replaceSelectionWith(e.createAndFill({value:c.value}))),[3,3];case 2:return u.sent(),[3,3];case 3:return[2]}}))}))}}var k={anchor:function(e,t){var n={};t.attrs.value&&(n.id=t.attrs.value);var a=Object.keys(n).map((function(e){return e+'="'+n[e]+'"'})).join(" ");e.write("<a "+a+"></a>")}},E=function(){return(E=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},C={attrs:{class:{default:""},style:{default:""}},group:"inline",parseDOM:[{tag:"span",getAttrs:function(e){return{class:e.getAttribute("class"),style:e.attributes.style?e.attributes.style.value:void 0}}}],toDOM:function(e){return["span",E(E({},e.attrs.style?{style:e.attrs.style}:{}),{class:e&&e.attrs&&e.attrs.class?e.attrs.class:""}),0]}},w=function(){return(w=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function O(e,t,n,a){var r;return n>t&&e.doc.nodesBetween(t,n,(function(e){return!a.isInSet(e.marks)||(r=e.marks.find((function(e){return e.type===a})),!1)})),r}function x(e,t){return w(w({},e),t)}function S(e,t,n){var a,r,o=e.marks.inline_styles;return{name:"inline_styles_className_"+t,label:n,displayLabel:c.a.createElement("span",{className:t},n),apply:(a=o,r={class:t},function(e,t){var n=e.selection,o=n.$cursor,i=n.ranges;if(t)if(o)if(a.isInSet(e.storedMarks||o.marks())){var l=function(e,t){var n=e.selection.$cursor;if(n)return(e.storedMarks||n.marks()).find((function(e){return e.type===t}))}(e,a);t(e.tr.removeStoredMark(a)),l&&t(e.tr.addStoredMark(a.create(x(l.attrs,r))))}else t(e.tr.addStoredMark(a.create(r)));else{for(var s=!1,c=e.tr,u=0;!s&&u<i.length;u++){var d=i[u],p=d.$from,f=d.$to;s=e.doc.rangeHasMark(p.pos,f.pos,a)}for(var m=0,h=i;m<h.length;m++){var g=h[m],b=g.$from,v=g.$to;if(s){var y=w({},O(e,b.pos,v.pos,a).attrs);c.removeMark(b.pos,v.pos,a),c.addMark(b.pos,v.pos,a.create(x(y,r)))}else c.addMark(b.pos,v.pos,a.create(r))}t(c.scrollIntoView())}return!0}),isEnabled:function(e){return!0},isActive:function(e){return function(e,t,n){var a=e.selection,r=a.from,o=a.$from,i=a.to;return a.empty?!!t.isInSet(e.storedMarks||o.marks())&&(e.storedMarks||o.marks()).filter(n).length>0:function(e,t,n,a,r){var o=!1;return n>t&&e.nodesBetween(t,n,(function(e){return a.isInSet(e.marks)&&e.marks.filter(r).length>0&&(o=!0),!o})),o}(e.doc,r,i,t,n)}(e,o,(function(e){return e.attrs.class===t}))}}}var j={inline_styles:{open:function(e,t,n,a){var r={};t.attrs.class&&(r.class=t.attrs.class);var o=Object.keys(r).map((function(e){return e+'="'+r[e]+'"'})).join(" ");return o.length>0?"<span "+o+">":"<span>"},close:"</span>"}},T=new RegExp("^(?:<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>|<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>)"),I=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","meta","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"].join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(T.source+"\\s*$"),/^$/,!1]];function _(e,t,n,a){var r,o,i,l,s=e.bMarks[t]+e.tShift[t],c=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(s))return!1;for(l=e.src.slice(s,c),r=0;r<I.length&&!I[r][0].test(l);r++);if(r===I.length)return!1;if(a)return I[r][2];if(o=t+1,!I[r][1].test(l))for(;o<n&&!(e.sCount[o]<e.blkIndent);o++)if(s=e.bMarks[o]+e.tShift[o],c=e.eMarks[o],l=e.src.slice(s,c),I[r][1].test(l)){0!==l.length&&o++;break}var u=e.getLines(t,o,e.blkIndent,!0),d=(new DOMParser).parseFromString(u,"text/html").body.firstChild,p=null==d?"":d.innerHTML;return e.line=o,(i=e.push("html_block_open","",1)).meta={tag:d.tagName,attrs:Array.from(d.attributes)},i.map=[t,e.line],(i=e.push("inline","",0)).map=[t,o],i.content=p,i.children=[],(i=e.push("html_block_close","",-1)).meta={tag:d.tagName},!0}function D(e,t){var n=e.pos;if("&shy;"!==e.src.slice(n,n+5))return!1;if(!t){var a=e.src.slice(n,n+5),r=e.push("soft_hyphen","shy",0);r.attrs=[],r.content=a}return e.pos=n+5,!0}var A={group:"inline",inline:!0,parseDOM:[{tag:"span[data-shy]",getAttrs:function(e){return{}}}],toDOM:function(e){return["span",{"data-shy":!0},"-"]}},N=n(301);var L={soft_hyphen:function(e,t){e.write("&shy;")}},R=function(){return(R=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},M=n(70),P=n(100),z=n(242).markdownItTable;function F(e,t){var n=P("commonmark",{html:!0});n.use(z),n.inline.ruler.before("text","soft_hyphen",D),n.block.ruler.before("html_block","html_block",_);var r=new M.MarkdownParser(e,n,R(R({},M.defaultMarkdownParser.tokens),{anchor:{node:"anchor",getAttrs:function(e){return{value:e.attrGet("value")}}},fence:{block:"code_block",getAttrs:function(e){return{params:e.info||""}},noCloseToken:!0},soft_hyphen:{node:"soft_hyphen"},table:{block:"table"},th:{block:"table_header",getAttrs:function(e){return{style:e.attrGet("style")}}},tr:{block:"table_row"},td:{block:"table_cell",getAttrs:function(e){return{style:e.attrGet("style")}}}}));r.tokenHandlers.html_inline=function(t,n){if(n&&n.content){var a=(n.content||"").trim();if(a.startsWith("<span")&&a.endsWith(">")){if(!(o=(new DOMParser).parseFromString(n.content,"text/html").body.firstChild))return;if("span"===o.nodeName.toLowerCase()){var r=o.getAttribute("class");t.openMark(e.marks.inline_styles.create({class:r}))}}else if("</span>"===a)t.closeMark(e.marks.inline_styles);else if(a.startsWith("<a")&&a.endsWith(">")){var o;if(!(o=(new DOMParser).parseFromString(n.content,"text/html").body.firstChild))return;if("a"===o.nodeName.toLowerCase()){var i=o.getAttribute("id");null!=i&&t.addNode(e.nodes.anchor,{value:i})}}else"<br>"===a&&t.addNode(e.nodes.hard_break)}};var o=new Map([["P","paragraph"],["H1","heading"],["H2","heading"],["H3","heading"],["H4","heading"],["H5","heading"],["H6","heading"]]),i=new Map([["amp-align-left","left"],["amp-align-center","center"],["amp-align-right","right"],["amp-align-justify","justify"]]);return r.tokenHandlers.html_block_open=function(n,r){if(o.has(r.meta.tag)){var l=r.meta.attrs.find((function(e){return"style"===e.name})),s="left";l&&(s=l.ownerElement.style.textAlign||s);var c=r.meta.attrs.find((function(e){return"class"===e.name}));c&&c.ownerElement.classList.forEach((function(e){var n=Object(a.getDefaultClass)(e,t);s=i.get(n)||"left"}));var u=o.get(r.meta.tag),d="heading"===u?Number(r.meta.tag[1]):void 0;n.openNode(e.nodes[u],{align:s||"left",level:d})}},r.tokenHandlers.html_block_close=function(e,t){o.has(t.meta.tag)&&e.closeNode()},r}var B={content:"inline*",attrs:{align:{default:"left"}},group:"block",parseDOM:[{tag:"p",getAttrs:function(e){return{align:e.style.textAlign}}}],toDOM:function(e){return["p",{style:"text-align: "+(e.attrs.align||"left")},0]}};function W(e){return function(t){return{align:t.style.textAlign,level:e}}}var V={attrs:{level:{default:1},align:{default:"left"}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",getAttrs:W(1)},{tag:"h2",getAttrs:W(2)},{tag:"h3",getAttrs:W(3)},{tag:"h4",getAttrs:W(4)},{tag:"h5",getAttrs:W(5)},{tag:"h6",getAttrs:W(6)}],toDOM:function(e){return["h"+e.attrs.level,{style:"text-align: "+(e.attrs.align||"left")},0]}};var H={table:function(e,t){for(var n=[],a=0;a<t.childCount;a++){var r=t.maybeChild(a);null!=r&&"table_row"===r.type.name&&n.push(r)}if(0!==n.length){e.render(n[0]);var o=n[0].childCount;e.write("\n");for(a=0;a<o;a++)e.write("|----------");e.write("|");for(a=1;a<n.length;a++)e.write("\n"),e.render(n[a]);e.closeBlock(t)}},table_row:function(e,t){e.write("| ");for(var n=function(n){var a=t.maybeChild(n);null!=a&&(n>0&&e.write(" | "),function(e,t){var n=e.out.length;t(),e.out=e.out.substr(0,n)+e.out.substr(n).trimEnd().replace(/\\?\n/g,"<br>").padEnd(8," "),e.closed=!1}(e,(function(){e.renderInline(a)})))},a=0;a<t.childCount;a++)n(a);e.write(" |")},table_cell:function(e,t){e.renderInline(t)},table_header:function(e,t){e.renderInline(t)}},$=function(){return($=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},U=n(70);var G={text:function(e,t){e.text(function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}(t.text))}};function J(e,t){return void 0===t&&(t={}),new U.MarkdownSerializer($($($($($($($($({},U.defaultMarkdownSerializer.nodes),L),k),H),function(e){return{paragraph:function(t,n){n.attrs.align&&"left"!==n.attrs.align&&"start"!==n.attrs.align?(e.useClasses?t.write('<p class="'+Object(a.getCustomClass)("amp-align-"+n.attrs.align,e)+'">'):t.write('<p style="text-align: '+n.attrs.align+'">'),t.renderInline(n),t.write("</p>"),t.closeBlock(n)):(t.renderInline(n),t.closeBlock(n))}}}(e)),function(e){return{heading:function(t,n){n.attrs.align&&"left"!==n.attrs.align&&"start"!==n.attrs.align?(e.useClasses?t.write("<h"+n.attrs.level+' class="'+Object(a.getCustomClass)("amp-align-"+n.attrs.align,e)+'">'):t.write("<h"+n.attrs.level+' style="text-align: '+n.attrs.align+'">'),t.renderInline(n),t.write("</h"+n.attrs.level+">"),t.closeBlock(n)):(t.write(t.repeat("#",n.attrs.level)+" "),t.renderInline(n),t.closeBlock(n))}}}(e)),G),t),$($({},U.defaultMarkdownSerializer.marks),j))}var q=n(46).tableNodes,K=n(3).Schema;var Z=n(302),Y=n(303),X=n(304),Q=n(305),ee=n(306),te=n(307),ne=n(46),ae=n(3).Fragment;function re(e){for(var t=e.selection.$head.path,n=0;n<t.length;n+=3)if("table"===t[n].type.name)return!0;return!1}function oe(e,t){return t.create(void 0,ae.fromArray([e.schema.nodes.paragraph.create()]))}function ie(e,t){var n=e.tr.replaceSelectionWith(e.schema.nodes.table.create(void 0,ae.fromArray([e.schema.nodes.table_row.create(void 0,ae.fromArray([oe(e,e.schema.nodes.table_header),oe(e,e.schema.nodes.table_header)])),e.schema.nodes.table_row.create(void 0,ae.fromArray([oe(e,e.schema.nodes.table_cell),oe(e,e.schema.nodes.table_cell)]))])));return t&&t(n),!0}var le=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var a=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],i=0,l=o.length;i<l;i++,r++)a[r]=o[i];return a};function se(e,t){var n=[];return Object(a.isToolEnabled)("inline_styles",t)&&(n=n.concat(n,function(e,t){var n=[];if(e.marks.inline_styles&&Object(a.isToolEnabled)("inline_styles",t)&&t.tools&&t.tools.inline_styles){var r=t.tools.inline_styles;if(r.classNames)for(var o=0,i=r.classNames;o<i.length;o++){var l=i[o];n.push(S(e,l.className,l.label))}}return n}(e,t))),Object(a.isToolEnabled)("anchor",t)&&e.nodes.anchor&&n.push(function(e){return{name:"anchor",label:"Insert Anchor",displayIcon:c.a.createElement(g.a,null),apply:y(e.nodes.anchor),isEnabled:function(t){return Object(a.canInsert)(t,e.nodes.anchor)}}}(e)),Object(a.isToolEnabled)("soft_hyphen",t)&&e.nodes.soft_hyphen&&n.push(function(e){return{name:"soft_hyphen",label:"Insert Soft Hyphen",displayIcon:c.a.createElement(N.a,null),apply:function(t,n){n(t.tr.replaceSelectionWith(e.nodes.soft_hyphen.create()))},isEnabled:function(t){return Object(a.canInsert)(t,e.nodes.soft_hyphen)}}}(e)),Object(a.isToolEnabled)("align_left",t)&&n.push({name:"align_left",label:"Align Left",displayIcon:c.a.createElement(r.a,null),apply:function(e,t){return p(e,t,"left")},isActive:function(e,t){return f(e,0,"left")},isVisible:m}),Object(a.isToolEnabled)("align_center",t)&&n.push({name:"align_center",label:"Align center",displayIcon:c.a.createElement(o.a,null),apply:function(e,t){return p(e,t,"center")},isActive:function(e,t){return f(e,0,"center")},isVisible:m}),Object(a.isToolEnabled)("align_right",t)&&n.push({name:"align_right",label:"Align Right",displayIcon:c.a.createElement(i.a,null),apply:function(e,t){return p(e,t,"right")},isActive:function(e,t){return f(e,0,"right")},isVisible:m}),Object(a.isToolEnabled)("align_justify",t)&&n.push({name:"align_justify",label:"Align Justify",displayIcon:c.a.createElement(l.a,null),apply:function(e,t){return p(e,t,"justify")},isActive:function(e,t){return f(e,0,"justify")},isVisible:m}),e.nodes.table&&(Object(a.isToolEnabled)("table_create",t)&&n.push(function(e){return{name:"table_create",label:"Create Table",displayIcon:c.a.createElement(Z.a,null),apply:ie,isEnabled:function(t){return Object(a.canInsert)(t,e.nodes.table)},isVisible:function(e){return!re(e)}}}(e)),Object(a.isToolEnabled)("table_delete",t)&&n.push({name:"table_delete",label:"Delete Table",displayIcon:c.a.createElement(te.a,null),apply:ne.deleteTable,isVisible:function(e){return re(e)}}),Object(a.isToolEnabled)("table_row_add",t)&&n.push({name:"table_row_add",label:"Add Row",displayIcon:c.a.createElement(Y.a,null),apply:ne.addRowAfter,isVisible:function(e){return re(e)}}),Object(a.isToolEnabled)("table_col_add",t)&&n.push({name:"table_col_add",label:"Add Column",displayIcon:c.a.createElement(X.a,null),apply:ne.addColumnAfter,isVisible:function(e){return re(e)}}),Object(a.isToolEnabled)("table_row_delete",t)&&n.push({name:"table_row_delete",label:"Delete Row",displayIcon:c.a.createElement(Q.a,null),apply:ne.deleteRow,isVisible:function(e){return re(e)}}),Object(a.isToolEnabled)("table_col_delete",t)&&n.push({name:"table_col_delete",label:"Delete Column",displayIcon:c.a.createElement(ee.a,null),apply:ne.deleteColumn,isVisible:function(e){return re(e)}})),n}var ce=function(){function e(e){void 0===e&&(e={}),this.name="markdown",this.label="Markdown";var t=this.createSchema(e),n=le(Object(a.createStandardTools)(t,e),se(t,e)),r=J(e,this.getNodeSerializers()),o=F(t,e);this.schema=t,this.tools=n,this.serializer=r,this.parser=o}return e.prototype.serialize=function(e){return this.serializeMarkdown(e)},e.prototype.parse=function(e){return this.parseMarkdown(e)},e.prototype.serializeMarkdown=function(e){return this.serializer.serialize(e)},e.prototype.canSerializeNodeToMarkdown=function(e,t){return!!t.type&&null!=this.serializer.nodes[t.type]},e.prototype.parseMarkdown=function(e){return e||(e=""),this.parser.parse(e)},e.prototype.getNodeSerializers=function(){return{}},e.prototype.createSchema=function(e){return void 0===e&&(e={}),function(e,t){void 0===t&&(t=!1);var a=n(70).schema,r=a.spec.marks;t&&(r=r.addToEnd("inline_styles",C));var o=a.spec.nodes.append(q({tableGroup:"block",cellContent:"block",cellAttributes:{background:{default:null,getFromDOM:function(e){return e.style.backgroundColor||null},setDOMAttr:function(e,t){e&&(t.style=(t.style||"")+"background-color: "+e+";")}}}})).addToEnd("soft_hyphen",A).addToEnd("anchor",h).update("paragraph",B).update("heading",V);return new K({nodes:o,marks:r})}(0,Object(a.isToolEnabled)("inline_styles",e))},e}(),ue={format:a.RichLanguageFormat.TEXT};t.b=function(e){return{language:new ce(e),conf:ue}}},78:function(e,t,n){"use strict";n(70),n(3).Node;var a=function(){function e(){}return e.prototype.canSerialize=function(e,t){return"dc-image-link"===t.type},e.prototype.serialize=function(e,t){return t.map((function(e){return{type:"dc-image-link",data:e.attrs.value}}))},e.prototype.canParse=function(e,t){return"dc-image-link"===t.type},e.prototype.parse=function(e,t){var n=[];return t.forEach((function(e){n.push({type:"dc-image-link",attrs:{value:e.data}})})),n},e}();t.a=a},79:function(e,t,n){"use strict";var a=n(3).Node,r=function(){function e(e,t){this.options=e,this.markdownLanguage=t}return e.prototype.canSerialize=function(e,t){return this.markdownLanguage.canSerializeNodeToMarkdown(e,t)},e.prototype.serialize=function(e,t){var n=a.fromJSON(e,{type:"doc",content:t});return[{type:"markdown",data:this.markdownLanguage.serializeMarkdown(n)}]},e.prototype.canParse=function(e,t){return"markdown"===t.type},e.prototype.parse=function(e,t){var n=this,a=[];return t.forEach((function(e){var t=n.markdownLanguage.parseMarkdown(e.data||"").toJSON();a=a.concat.apply(a,t.content||[])})),a},e}();t.a=r},80:function(e,t,n){"use strict";var a={format:n(11).RichLanguageFormat.JSON};t.a=a},81:function(e,t,n){"use strict";var a=n(62),r=n(58),o=(n(70),n(3).Node,function(){function e(){}return e.prototype.canSerialize=function(e,t){return"dc-content-link"===t.type},e.prototype.serialize=function(e,t){return t.map((function(e){return{type:"dc-content-link",data:e.attrs.value}}))},e.prototype.canParse=function(e,t){return"dc-content-link"===t.type},e.prototype.parse=function(e,t){var n=[];return t.forEach((function(e){n.push({type:"dc-content-link",attrs:{value:e.data}})})),n},e}()),i=n(78),l=n(79),s=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),c=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var a=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],i=0,l=o.length;i<l;i++,r++)a[r]=o[i];return a},u=n(3).Schema,d=n(3).Node,p=function(e){function t(t,n){void 0===t&&(t={});var a=e.call(this,t)||this;return a.name="json",a.label="JSON",a.markdownBlock=new l.a(t,a),a.blockTypes=n||[new i.a,new o,a.markdownBlock],a.tools=c(a.tools,Object(r.e)(a.schema,t)),a}return s(t,e),t.prototype.serialize=function(e){var t=this;if(!e)return[];if(!(e=e.toJSON()).content||0===e.content.length)return[];for(var n=f(e.content,(function(e){for(var n=0,a=t.blockTypes;n<a.length;n++){var r=a[n];if(r.canSerialize(t.schema,e))return r}})),a=[],r=0,o=n;r<o.length;r++){var i=o[r],l=i.group.serialize(this.schema,i.items);a=a.concat.apply(a,l)}return a},t.prototype.parse=function(e){var t=this;if(!e||0===e.length)return d.fromJSON(this.schema,{type:"doc",content:[{type:"paragraph"}]});for(var n={type:"doc",content:[]},a=f(e,(function(e){for(var n=0,a=t.blockTypes;n<a.length;n++){var r=a[n];if(r.canParse(t.schema,e))return r}})),r=0,o=a;r<o.length;r++){var i=o[r],l=i.group.parse(this.schema,i.items);n.content=n.content.concat.apply(n.content,l)}return d.fromJSON(this.schema,n)},t.prototype.createSchema=function(t){var n=e.prototype.createSchema.call(this,t);return new u({nodes:n.spec.nodes.addBefore("image","dc-image-link",Object(r.c)()).addBefore("image","dc-content-link",Object(r.a)()),marks:n.spec.marks})},t.prototype.getNodeSerializers=function(){return{"dc-image-link":function(){return""},"dc-content-link":function(){return""}}},t}(a.a);t.a=p;function f(e,t){for(var n=[],a=null,r=[],o=0,i=e;o<i.length;o++){var l=i[o],s=t(l);void 0!==s&&(null===a?(a=s,r=[l]):a===s?r.push(l):(r.length>0&&n.push({group:a,items:r}),a=s,r=[l]))}return r.length>0&&null!==a&&n.push({group:a,items:r}),n}}},[[173,1,2]]]);
//# sourceMappingURL=main.9f13aab9.chunk.js.map